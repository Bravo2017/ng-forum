{"version":3,"sources":["filters/dateFilter.js","app.module.js","app.config.js","directives/customngChange.js","directives/otherUserCard.js","directives/replyDateDirective.js","directives/userCardDirective.js","filters/emoteFilter.js","filters/nonFullDateFilter.js","services/authCheckTrue.js","services/dateService.js","services/editReplyService.js","services/editTopicService.js","services/emojiList.js","services/emojieTool.js","services/encodeImageToBase64.js","services/letterAvatarService.js","services/loadingService.js","services/otherUserProfilePageService.js","services/otherUserService.js","services/refService.js","services/replaceService.js","services/replyService.js","services/timeService.js","services/topicLikesService.js","404/controllers/404Controller.js","auth/controllers/authCtrl.js","authDesc/controllers/authDescCtrl.js","editReply/controllers/editReplyCtrl.js","editTopic/controllers/editTopicCtrl.js","editTopicPanel/controllers/editTopicPanelCtrl.js","loading/controllers/loadingCtrl.js","home/controller/homeCtrl.js","newReply/controllers/newReplyCtrl.js","newTopic/controllers/newTopicCtrl.js","otherUserProfile/controllers/otherUserProfileCtrl.js","otherUserProfilePage/controllers/otherUserProfilePageCtrl.js","profile/controllers/profileCtrl.js","topic/controllers/topicCtrl.js","settings/controllers/settingsCtrl.js","authHome/authHomeCtrl.js","emojieTool/emojieToolCtrl.js","settings/desciptonChange.js","settings/emailSettingsCtrl.js","settings/imageChangeCtrl.js","settings/passwordChangeCtrl.js","settings/usernameChangeCtrl.js","viewTopicLikes/viewTopicLikes.js"],"names":["dateFilter","timeService","input","getTimeF","Date","parseInt","angular","module","stateParams","$stateProvider","$urlRouterProvider","$mdThemingProvider","theme","primaryPalette","otherwise","state","url","templateUrl","controller","resolve","currentAuth","refService","app","config","customOnChange","restrict","link","scope","element","attrs","onChangeHandler","$eval","bind","directive","otherUserCard","transclude","name","image","Moderator","desc","elem","ctrl","$scope","replyDirective","template","elm","dateNotParsed","innerText","console","log","userCardDirective","uid","email","filter","emoteFilterfunc","$sce","replace","string","str1","str2","RegExp","emojieList",":)",":smile:",":(",":sad:",":D",":smiley:",":;",":very_happy:",":P",":tounge_stuck_out:",":X",":cant_talk:","xD","-1",":minus_one:","+1",":plus_one:","marked","emoji","hasOwnProperty","trustAsHtml","nonFullDateFilterFunc","JSON","stringify","substring","authCheckService","$state","this","checkAuth","dest","getAuth","go","service","dateService","formatDate","date","year","getFullYear","month","getUTCMonth","day","getUTCDate","slice","toString","substr","formattedDate","editReplyService","topicCreatorName","nonParsedDate","topicCreatorUID","pushK","setInfo","push","getName","getDatee","getTopicUID","getPushK","editTopicFuncService","dateCreated","setDateCreated","value","getDateCreated","emojiListFunc","String","prototype","replaceAt","index","character","length","replaceAll","ignore","currentRenderEmojies","valRend","emojieToolfunc","elementInfo","setElementInfo","getElementInfo","resetElementInfo","encodeImageToBase64","replyService","encode","document","file","ref","UID","fileToLoad","fileReader","FileReader","onload","fileLoadedEvent","srcData","target","result","child","update","Image","once","snapshot","forEach","childSnapshot","childData","key","val","pushKey","Avatar","EvenChild","childDataNest","replyCreatorUID","replyCreatorAvatar","readAsDataURL","letterAvatarServiceFunc","$http","letters","a","letter","URL","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","numbers","0","number","1","2","3","4","5","6","7","8","9","Mystery","loadJSON","get","then","data","logLetter","getLetterURL","loaderData","char","charAt","len","lenNum","URLVALUE","toLowerCase","loadingServiceFunc","loadingTo","setLoadingTo","getLoadingTo","otherUserProfilePageServicefunc","otherUserID","setID","ID","getID","otherUserInfo","otherACTUALINFO","setUserInfo","info","getUserInfo","ACTUALsetUserInfo","ACTUALgetUserInfo","$firebaseAuth","Firebase","refAuth","replaceServicefunc","replaceAllString","topicTitle","creatorTitle","creatorUID","creatorUsername","creatorValue","creatorDate","creatorAvatar","creatorEmail","timeSinceCreated","postNum","setTopicInfo","title","creator","username","since","avatar","getTopicInfo","time","constructor","getTime","time_formats","seconds","token","list_choice","Math","abs","format","floor","getTimeS","interval","topicLikesServiceFunc","info1","info2","resetInfo","getInfo","getInfo1","getInfo2","ErrControllerFunc","authCtrl","$firebaseObject","authCheckTrueService","$firebaseArray","$mdDialog","letterAvatarService","PASSWORDRESET","possibleChars","password","random","loadImageJSON","toggleClass","enabled","close","forgotPass","alertify","prompt","evt","resetPassword","error","code","success","oAuthLogin","provider","authWithOAuthPopup","authData","unauth","usernames","snapLog","vex","dialog","message","placeholder","callback","$loaded","Username","isDupe","createUser","userData","set","displayName","Email","profileImageURL","BronzeBadge","SilverBadge","GoldBadge","PlatinumBadge","newUser","profileBackground","followers","following","profileViews","Precence","Points","cachedUserProfile","profile_background_image_url_https","isUsernameDupeNested","setTimeout","location","reload","loginAUTH","authWithPassword","user","regissterForm","isUsernameDupe","on","childSNap","register","$evalAsync","setResponse","show","alert","clickOutsideToClose","textContent","ariaLabel","ok","openFrom","top","width","height","closeTo","left","cancel","authDescCtrl","$mdMedia","$mdBottomSheet","$timeout","bookmarked","rep","returne","snapshotBookMarkOutlineTopic","evenChildBook","bookchildData","Bookmarks","authDataDesc","Bookmark","topic","topicName","topicViewsLen","dataChild","Views","times","ViewsLen","goToPerson","person","event","targetEvent","loadUsers","tagsOption","Tags","showNewTopic","ev","useFullScreen","customFullscreen","parent","body","$requireAuth","fullscreen","clickedItem","goToTOPICAUTCOMPLETE","USERNAME","POST","Postnum","goToTopic","postnum","editReplyFunc","editTopicService","hide","answer","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","lang","hljs","highlightAuto","myConfig","create","onChange","valueField","labelField","maxItems","required","$watch","current","original","outputText","prop","editREPLY","topicPushKey","childSnap","replyCreatorValue","editValue","editTopicFunc","submitNewEdit","newSentence","edit","sentence","DATE","DateCreated","Value","editTopicPanelCtrlfunc","$stateParams","outputTextFirebaseObject","defaultTags","daDATA","daDATASNAP","editTitle","Title","shortcuts","shortcutName","getElementById","window","clipboardData","getData","open","editTopicPan","indexSelected","tagsSelected","tagsSelectedFireBase","Name","editTextStuff","loadingCtrlfunc","loadingService","currentAuthGet","subTitle","loaderLoc","href","homeCtrl","openMenu","circle","classList","toggle","ham","main","preventDefault","stopImmediatePropagation","closeMenu","contains","remove","querySelector","querySelectorAll","win","addEventListener","goTo","loc","newReplyCtrl","submitNewReply","numRepliesAlready","userAvatar","userName","userEmail","pushingR","replyCreatorUsername","replyCreatorEmail","markdownData","replyCreatorDate","now","Replynum","replyCreatorDateParsed","topicCreatorUsername","topicCreatorTitle","topicCreatorAvatar","topicCreatorSince","lastAct","dataLast","snapDataLastAct","LastActivity","snapREPVIEWS","RepliesNum","newTopicCtrl","emojieTool","emojiListService","logicToGoBack",":laugh_dang:","isThereTag","tagCheckPrev","dataC","Default","undoAndRedo","opt","ready","Clipboard","emojieStart","submitNewTopic","search","pushing","IsAcceptedAnwser","Votes","AcceptedAnwserReplyNum","otherUserProfileCtrl","otherUserProfilePageService","otherUserService","obj","topicLenObj","precence","timeSinceNoPageOBJ","timeSinceNoPage","currentAuthGetOTHER","otherUserUID","otherUserUsername","ACTUALinfo","otherUserEmail","otherUserImage","numFollowing","numFollowers","otherMod","otherDesc","Description","count","topicData","timeSINCEOBJ","dataLOAD","OBJPRECENCE","presence","id","userRef","snapshotPrecence","goToPage","addFolower","followerCheck","followingCheck","dataCheckFollower","$id","$value","snap","Desc","dataCheckFollowing","snapp","privateMessageStart","mod","AVATAR","EMAIL","TITLE","VALUE","otherUserProfilePageCtrlFunc","otherUSERIDPAGE","profileCtrl","currentAuthGetPro","arrayOfPrevious5Days","newDate","dateNum","dateDiff5","objPres","backImage","ProfileViews","Followers","Following","isPresent","topicCtrl","topicLikesService","generateUUID","uuid","voteHelper","didVote","viewsCheck","snapshotViews","snapShotViewsForEach","childDataSNAPVIEWS","upVoteRegister","TOTAL_POINTS","Point","downVoteCheck","downVotePointRegister","isCheckedHelper","returnerCheck","snapshotBestAnwserOutlineTopic","snapBest","isBestAnwser","replyNumber","bestAnwserRegister","TOTAL_POINTS_BEST_ANWSERY_LIKES","unbestAnwserRegister","TOTAL_POINTS_BEST_ANSWERN_LIKES","liked","returner","snapshotLikeOutlineTopic","Like","likeRegister","TOTAL_POINTS_REPLIES_LIKES","unLikeRegister","VoteHelper","snapSHOT","Vote","notAuthReplyTopic","myAlert","EVEN","repliesNum","dateCheck","creatorDateParsed","actualReplyUser","thisUser","isModerator","currentUserAvatar","views","countViews","numChildren","votedAlready","upVote","upVoteIcon","add","downVoteIcon","downVote","countVote","votesViewing","snapshotVote","VoteChild","evenChildVote","childDataCHILD","replies","tagsTopic","snapDataTag","tagsTopicRep","goToProfile","editReply","reps","deletePost","confirm","warn","urlSHARINGCURRENT","openShareMenu","$mdOpenMenu","funcCheckEDIT","goBackTopic","isReplyable","isLikeable","isShareble","isFlaggable","isBookmarkable","isChecked","classBestAnwser","notChecked","checked","likeBoxNo","likeBoxYes","likeBox","likeBoxNoNgClick","likeBoxYesNgClick","Avarar","bookmarkBoxNo","bookmarkBoxYes","bookmarkBoxNoNgClick","bookmarkBoxYesNgClick","upVoteCheck","objBookmark","dataBook","snapap","bookMarkToggleTopic","bookmarkClickOutlineTopic","bookmarkClickNonOutlineTopic","editTopicPriv","flagSee","editTopic","canDeleteCheck","deleteTopicPriv","deleteTopic","snapshotTopic","replyTopic","repliesLikesNum","count_likes","snapRepNum","snapRepNumChild","Likes","seeTopicLikes","num_likes","settingsCtrl","isPassChange","currentAuthSet","userInfo","passwordSHARP","changeEmail","getElementsByTagName","wantsFullScreen","descriptonChange","changePassword","changeUsername","changeImage","authHomeCtrl","currentAuthGetHome","amOnline","onDisconnect","ServerValue","TIMESTAMP","onIdle","onAway","onBack","isIdle","isAway","setup","buttons","text","focus","prepare","setContent","onAuth","logout","goToSettings","emojieToolCtrlfunc","$rootScope","emojieListCtrl","img","descChangeCtrl","change","emailSettingsCtrl","changeEmailDialog","emailChange","oldEmail","emailChangeOld","newEmail","passwordChangeOld","imageChangeCtrl","uploadFile","doc","files","passwordChangeCtrl","changePasswordDialog","emailNormal","oldPassword","newPassword","passwordChangeNew","usernameChangeCtrl","changeUsernameDialog","usernameNew","viewTopicLikesfunc","avatars"],"mappings":"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","file":"app.min.js","sourcesContent":["angular.module('ForumApp')\r\n    .filter(\"dateFilter\", [\"timeService\", dateFilter]);\r\n\r\nfunction dateFilter(timeService){\r\n    return function(input){\r\n        return timeService.getTimeF(new Date(parseInt(input)));\r\n    };\r\n}","(function(angular){\n    \n    'use strict';\n    \nangular\n    .module('ForumApp' ,   [\n      //Deps\n        'ui.router',\n        'ngMaterial',\n        'firebase',\n        'ngMessages',\n        'material.svgAssetsCache',\n        'ngMdIcons',\n        'ngSanitize',\n        'vcRecaptcha',\n        'angularScreenfull',\n        'selectize', \n        '720kb.socialshare'\n    ]\n);\n\n\n/*\n                Release 1.1\n              ----------------\nPRODUCTION MODE DATABASE - https://uniquecoders.firebaseio.com/\nDEVELOPMENT MODE DATABASE - https://uniquecodersforums.firebaseio.com/\n\nPOINTS\n---------------\nPoints Change----|\n                 |__ Lower-----------|\n                 |__ Higher---|      |__ TOPIC DOWNVOTE\n                              |___ TOPIC UPVOTE\n                              |___ REPLY LIKE\n                              |___ REPLY BEST_ANWSER\n                              \n                              \nTECHNIQUE:\n\n        CHANGE DATABASE DIFFRENT SYSTEM. DONT \n        CHANGE ACTUAL POINTS TO STOP HIJACK OF POINTS.\n\nLIKESOBJ-----\n            |___UID___\n                      |__ +{POINT} , -{POINT}\n                 \n\n\nTODO: AVATAR ON CLICK NO WORK\n\nBACKEND\n--------\nAman\n------\nTODO:  Badges Backend\nTODO : NEW TOPIC EMOTION LIST\nTODO:  @name and #topic\nTODO : OTHERUSERPROFILEPAGE\nTODO : PRIVATE MESSAGE/PUBLIC\nTODO : FLAG = PRIVATE MESSAGING MODERATORS\nTODO : IMGUsR CONVERSIOIN BASE64\nTODO : Notifications\nNasr\nKyle\n-----\nTODO : FIX BUG AUTHOME.HTML\nTODO : BROWSER-SYNC\nTODO : GZIP\n\n\n\nFRONTEND\n---------\n\nShim\n------\nTODO:FIX AUTH.HTML's NON SHOWING LINES. PLEASE ASK AMANUEL FOR MORE INFO.\nTODO: NEWTOPIC.html, EDITTOPIC, and STUFF LIKE THAT FIX DO NOT FORGET TO Ask AMANUEL FOR MORE INFO PLZ\nTODO: 404 Page\nTODO: Online icon profile\nTODO: LOADING SCREEN.. <-- NEED TO FIX AND SHOW ME HOW TO MAKE RESPONSIVE\nTODO: Badges Front\nJeff\n-----\nTODO : DOCS .(LATER WE WILL PUT A GUIDE FOR COMPANIES TO USE THIS FORUM)\nTODO: 404 Page\nTODO: Online icon profile\nTODO: LOADING SCREEN.. <-- NEED TO FIX AND SHOW ME HOW TO MAKE RESPONSIVE\nTodo: badges Front\nALL Frontend\n-----------\n    \nTODO : FIX DESCRIPTON IN PROFILE PAGE\nTODO : RESELOUTION PROFILE AVATAR IN PROFILE PAGE\n\nTODO : Fix textbox so it is center\n\nBACKEND AND FRONTENDs\n---------------\nTODO: Add Drag Drop Image upload \nTODO: Add settings to Profile (Allow to open from)\nTODO: Downvote Best Answer\nTODO: AutoCorrect and Spell Check for editor http://www.javascriptspellcheck.com/\n\n-------LATER RELEASES IDEAS--------\n\nTODO : SESSIONS, for POEPLE TO WORK COLLABORATIVELY\nTODO : PYTHON INTERPRETOR : http://www.skulpt.org/ PHP: https://phpjs.hertzen.com/console.html. C++: https://ide.c9.io/amanuel2/ruby_interpreator_in_js#openfile-README.md\nTODO : TOURING\n\n\nHELPERS \n-----\nLAYOUTS \n------\nSETTINGS : http://cdn1.tnwcdn.com/wp-content/blogs.dir/1/files/2016/01/MD3.png\nForum MAterial : http://www.one-click-forum.com/live-preview/\nGoogle Forum Material : https://productforums.google.com/forum/#!topic/docs/FQVnUuzZusQ\n             ----------------\n*/\n\n\n})(angular);","(function(angular) {\n  var app = angular.module('ForumApp');\n  app.config(['$stateProvider', '$urlRouterProvider','$mdThemingProvider', stateParams])\n\n  function stateParams($stateProvider, $urlRouterProvider,$mdThemingProvider) {\n\n$mdThemingProvider.theme(\"default\")\n                  .primaryPalette(\"blue\")\n      \n      \n    $urlRouterProvider.otherwise('404')\n    \n    $stateProvider.state('home', {\n      url: '',\n      templateUrl: 'app/components/home/home.html',\n      controller: 'homeCtrl',\n    })\n    $stateProvider.state('auth', {\n      url: '/auth',\n      templateUrl: 'app/components/auth/auth.html',\n      controller: 'authCtrl',\n    })\n\n    $stateProvider.state('authHome', {\n      url: '/authHome',\n      templateUrl: 'app/components/authHome/authHome.html',\n      controller: 'authHome',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n\n    $stateProvider.state('authHome.desc', {\n      url: '/desc',\n      templateUrl: 'app/components/authDesc/authDesc.html',\n      controller: 'authDescCtrl',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n        \"currentAuth\": [\"refService\", function(refService) {\n        }]\n      }\n    })\n\n    $stateProvider.state('authHome.topic', {\n      url: '/topic/:POST/:USERNAME',\n      templateUrl: 'app/components/topic/topicDesc.html',\n      controller: 'topicCtrl',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n    $stateProvider.state('authHome.profile', {\n      url: '/profile/:UID',\n      templateUrl: 'app/components/profile/profile.html',\n      controller: 'profileCtrl',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n\n  $stateProvider.state('authHome.settings', {\n      url: '/settings?UID?USERNAME',\n      templateUrl: 'app/components/settings/settings.html',\n      controller: 'settingsCtrl',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n    \n     $stateProvider.state('authHome.otherUser', {\n      url: '/otherUser?DATE?UID',\n      templateUrl: 'app/components/otherUserProfile/otherUserProfile.html',\n      controller: 'otherUserProfileCtrl',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n    \n    $stateProvider.state('ErrorFourOFour', {\n      url: '/404',\n      templateUrl: 'app/components/404/404.html',\n      controller: '404Controller',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n    $stateProvider.state('loading', {\n      url:'/loading',\n      templateUrl:'app/components/loading/loading.html',\n      controller: 'loadingCtrl',\n       resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n    \n     $stateProvider.state('authHome.otherUserPage', {\n      url: '/:USERNAME/Activity',\n      templateUrl: 'app/components/otherUserProfilePage/otherUserProfilePage.html',\n      controller: 'otherUserProfilePageCtrl',\n      resolve: {\n        // controller will not be loaded until $waitForAuth resolves\n        // Auth refers to our $firebaseAuth wrapper in the example above\n      }\n    })\n  \n  \n  }\n})(angular);","(function(angular){\n    'use strict';\n    \n    angular\n    .module('ForumApp')\n    .directive('customOnChange', customOnChange);\n\n    function customOnChange(){\n        return {\n        restrict: 'A',\n        link: function (scope, element, attrs) {\n          var onChangeHandler = scope.$eval(attrs.customOnChange);\n          element.bind('change', onChangeHandler);\n        }\n      };\n    }\n})(angular);\n","(function(angular) {\n   'use strict'; \n     angular\n     .module('ForumApp')\n     .directive('otherUserCard', otherUserCard)\n\n    function otherUserCard() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            scope: {\n                name: '@',\n                theme: '@',\n                image : '@',\n                Moderator : '@',\n                desc:'@'\n            },\n            templateUrl: 'views/directiveViews/otherUserCard.html',\n            link: function(scope, elem, attrs, ctrl) {\n\n            },\n            controller: function($scope) {\n                $scope.theme = $scope.theme || 'default'\n            }\n        }\n    }\n})(angular);","(function(angular){\r\n    var app = angular.module('ForumApp')\r\n\r\n    app.directive('replyDateDirective', [\"timeService\",replyDirective])\r\n\r\n    function replyDirective(timeService){\r\n        return {\r\n            restrict:'E',\r\n            transclude:true,\r\n            template : \"<span><ng-transclude></ng-transclude></span>\",\r\n            link:function(scope, elm, attrs){\r\n                var elemzero = elm[0];\r\n                var dateNotParsed = elm[0].innerText;\r\n                console.log(\"DATE NOT PARSED\" , dateNotParsed)\r\n                var dateParsed = timeService.getTimeF(new Date(parseInt(dateNotParsed)))\r\n                //elemzero.innerText = dateParsed;\r\n            }\r\n        }\r\n    }\r\n})(angular);","(function(angular) {\n    var app = angular.module('ForumApp')\n\n    app.directive('userCardDirective', userCardDirective)\n\n    function userCardDirective() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            scope: {\n                name: '@',\n                theme: '@',\n                image : '@',\n                uid : '@',\n                email:'@',\n                desc:'@'\n            },\n            templateUrl: 'views/directiveViews/userCard.html',\n            link: function(scope, elem, attrs, ctrl) {\n\n            },\n            controller: function($scope) {\n                $scope.theme = $scope.theme || 'default'\n            }\n        }\n    }\n})(angular);","(function(angular) {\n    'use strict';\n\n    angular\n        .module('ForumApp')\n        .filter('emoteFilter', ['$sce', emoteFilterfunc]);\n\n    function emoteFilterfunc($sce) {\n//EMOJIE LIST {PARAM} {https://github.com/amanuel2/ng-forum/wiki/How-to-write-emotions}\n        function replace(string, str1, str2) {\n            return string.replace(\n                new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g, \"\\\\$&\"), 'g'),\n                str2\n            );\n        }\n        \n        function replaceAt(index,character){\n            return this.substr(0, index) \n                                + character \n                                + this.substr(\n                                                index + character.length\n                                             );\n        }\n\n        var emojieList = {\n            ':)': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':smile:': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':(': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':sad:': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':D': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':smiley:': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':;': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':very_happy:': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':P': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':tounge_stuck_out:': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':X': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            ':cant_talk:': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            //No :text: for this Begin\n            'xD': '<img src=\"assets/emoji/emoji-E770.png\"/>',\n            //Done\n            '-1': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            ':minus_one:': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            '+1': '<img src=\"assets/emoji/emoji-E00E.png\"/>',\n            ':plus_one:': '<img src=\"assets/emoji/emoji-E00E.png\"/>'\n        };\n\n        return function(string) {\n\n            if (typeof string === 'string') {\n\n                string = marked(string);\n\n                for (var emoji in emojieList) {\n                    if (emojieList.hasOwnProperty(emoji)) {\n                        string = replace(string, emoji, emojieList[emoji]);\n                    }\n                }\n\n                return $sce.trustAsHtml(string);\n            }\n\n        };\n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp');\n\n    app.filter(\"nonFullDateFilter\", [\"timeService\",nonFullDateFilterFunc]);\n\n    function nonFullDateFilterFunc(timeService){\n        return function(input){\n            return (((JSON.stringify((new Date(parseInt(input))))).replace('\"','')).substring(0,10))\n        }\n    }\n})(angular);","(function(angular){\r\n    var app = angular.module('ForumApp');\r\n    \r\n    app.service('authCheckTrueService', [\"$state\" , authCheckService]);\r\n    \r\n    function authCheckService($state){\r\n        this.checkAuth = function(refService,dest){\r\n            if(refService.getAuth())\r\n                $state.go(dest);\r\n            else\r\n                return null;\r\n            \r\n        }\r\n    }\r\n})(angular);","(function(angular) {\n    var app = angular.module('ForumApp');\n\n    app.service('dateService', dateService)\n\n    function dateService() {\n        this.formatDate = function(date) {\n\n            switch (date) {\n                case (typeof date != 'object'):\n                    return null;\n                    break;\n\n                default:\n                    var year = date.getFullYear();\n                    var month = date.getUTCMonth();\n                    var day = date.getUTCDate();\n\n                    //month 2 digits\n                    month = (\"0\" + (month + 1)).slice(-2);\n\n                    //year 2 digits\n                    year = year.toString().substr(2, 2);\n\n                    var formattedDate = month + '/' + day + \"/\" + year;\n                      \n                      return formattedDate;\n\n            }\n\n\n\n        }\n    }\n})(angular);","(function(){\n    var app = angular.module('ForumApp')\n    \n    app.service('editReplyService', [editReplyService])\n    \n    function editReplyService(){\n        this.topicCreatorName = null;\n        this.nonParsedDate = null;\n        this.topicCreatorUID = null;\n        this.pushK = null;\n        \n        this.setInfo = function(push,name,date,uid){\n            this.topicCreatorName = name;\n            this.nonParsedDate = date;\n            this.topicCreatorUID = uid;\n            this.pushK = push;\n        }\n        this.getName = function(){\n            return (this.topicCreatorName);\n        }\n        \n        this.getDatee = function(){\n            return (this.nonParsedDate);\n        }\n        \n        this.getTopicUID = function(){\n            return (this.topicCreatorUID);\n        }\n        this.getPushK = function(){\n            return (this.pushK);\n        }\n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp');\n    \n    app.service('editTopicService', [ editTopicFuncService])\n    \n    function editTopicFuncService(){\n        this.dateCreated = null;\n        this.setDateCreated = function(value){\n            this.dateCreated = value;\n        }\n        this.getDateCreated = function(){\n            return (this.dateCreated);\n        }\n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp');\n    \n    app.service('emojiListService', [emojiListFunc]);\n    \n    function emojiListFunc(){\n        String.prototype.replaceAt=function(index, character) {\n            return this.substr(0, index) + character + this.substr(index+character.length);\n        }\n        String.prototype.replaceAll = function(str1, str2, ignore) {\n            return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\n        } \n        this.currentRenderEmojies = function(valRend) {\n             valRend = valRend.replaceAll(':)', 'views/assets/emoji/emoji-E056.png');\n        }\n    }\n})(angular);","(function(){\n    angular \n           .module('ForumApp')\n           .service('emojieTool', [emojieToolfunc])\n           \n           function emojieToolfunc() {\n                   this.elementInfo = null;\n                   this.setElementInfo = function(elem){\n                       this.elementInfo = elem;\n                   }\n                   this.getElementInfo = function(){\n                       return(this.elementInfo);\n                   }\n                   this.resetElementInfo = function(){\n                       this.elementInfo = null;\n                   }\n           }\n})(angular);","(function(angular) {\n    var app = angular.module('ForumApp')\n\n    app.service('encodeImageToBase64',['replyService', encodeImageToBase64]);\n\n    function encodeImageToBase64(replyService) {\n\n        this.encode = function(document, file, ref, UID) {\n\n            if (file.length > 0) {\n                var fileToLoad = file[0];\n                var fileReader = new FileReader();\n\n                fileReader.onload = function(fileLoadedEvent) {\n                    var srcData = fileLoadedEvent.target.result; // <--- data: base64\n                    ref.child(\"UserAuthInfo\").child(UID).update({\n                        Image: srcData\n                    })\n                    //Updating Topics\n                    ref.child(\"Topics\").once(\"value\", function(snapshot) {\n\n                        snapshot.forEach(function(childSnapshot) {\n                            var key = childSnapshot.key();\n                            var childData = childSnapshot.val();\n                            if (childData.UID == UID) {\n                                ref.child(\"Topics\").child(childData.pushKey).update({\n                                    Avatar: srcData\n                                })\n                            }\n                        })\n                    })\n                    \n                    ref.child(\"Replies\").once(\"value\", function(snapshot) {\n\n                        snapshot.forEach(function(childSnapshot) {\n                            var key = childSnapshot.key();\n                            var childData = childSnapshot.val();\n                            //ID NESTING\n                            childSnapshot.forEach(function(EvenChild){\n                                var keyNest = EvenChild.key();\n                                var childDataNest = EvenChild.val();\n                                if(childDataNest.replyCreatorUID == UID){\n                                  ref.child(\"Replies\").child(key).child(childDataNest.pushKey).update\n                                    ({\n                                        replyCreatorAvatar : srcData                   \n                                    })\n                                }\n                            })\n                            //ref.child(\"Replies\").child()\n                        })\n                    })\n                    return srcData;\n                }\n\n                fileReader.readAsDataURL(fileToLoad);\n            }\n\n        }\n\n    }\n})(angular);","(function(angular){\n    \n    var app = angular.module('ForumApp')\n    \n    app.service('letterAvatarService', ['$http',letterAvatarServiceFunc])\n    \n    function letterAvatarServiceFunc($http){\n        \n        this.letters = {\n\t\"letters\": {\n\n\t\t\"a\": {\n\t\t\t\"letter\": \"A\",\n\t\t\t\"URL\": \"http://imgur.com/fmJfhIO.png\"\n\t\t},\n\n\t\t\"b\": {\n\t\t\t\"letter\": \"B\",\n\t\t\t\"URL\": \"http://imgur.com/TAZ9VPU.png\"\n\t\t},\n\n\t\t\"c\": {\n\t\t\t\"letter\": \"C\",\n\t\t\t\"URL\": \"http://imgur.com/yyxf8Xa.png\"\n\t\t},\n\n\t\t\"d\": {\n\t\t\t\"letter\": \"D\",\n\t\t\t\"URL\": \"http://imgur.com/t3WVsh0.png\"\n\t\t},\n\n\t\t\"e\": {\n\t\t\t\"letter\": \"E\",\n\t\t\t\"URL\": \"http://imgur.com/Pe4sgjI.png\"\n\t\t},\n\n\t\t\"f\": {\n\t\t\t\"letter\": \"F\",\n\t\t\t\"URL\": \"http://imgur.com/6T8Bgeq.png\"\n\t\t},\n\t\t\"g\": {\n\t\t\t\"letter\": \"G\",\n\t\t\t\"URL\": \"http://imgur.com/BGsTWtG.png\"\n\t\t},\n\t\t\"h\": {\n\t\t\t\"letter\": \"H\",\n\t\t\t\"URL\": \"http://imgur.com/o5K40Jd.png\"\n\t\t},\n\t\t\"i\": {\n\t\t\t\"letter\": \"I\",\n\t\t\t\"URL\": \"http://imgur.com/sdt7apQ.png\"\n\t\t},\n\t\t\"j\": {\n\t\t\t\"letter\": \"J\",\n\t\t\t\"URL\": \"http://imgur.com/msHLCHR.png\"\n\t\t},\n\t\t\"k\": {\n\t\t\t\"letter\": \"K\",\n\t\t\t\"URL\": \"http://imgur.com/eoAJeWD.png\"\n\t\t},\n\t\t\"l\": {\n\t\t\t\"letter\": \"L\",\n\t\t\t\"URL\": \"http://imgur.com/zMVTSnK.png\"\n\t\t},\n\t\t\"m\": {\n\t\t\t\"letter\": \"M\",\n\t\t\t\"URL\": \"http://imgur.com/IDCb4on.png\"\n\t\t},\n\t\t\"n\": {\n\t\t\t\"letter\": \"N\",\n\t\t\t\"URL\": \"http://imgur.com/8AxVHBb.png\"\n\t\t},\n\t\t\"o\": {\n\t\t\t\"letter\": \"O\",\n\t\t\t\"URL\": \"http://imgur.com/cTdwHBz.png\"\n\t\t},\n\t\t\"p\": {\n\t\t\t\"letter\": \"P\",\n\t\t\t\"URL\": \"http://imgur.com/l92WBfJ.png\"\n\t\t},\n\t\t\"q\": {\n\t\t\t\"letter\": \"Q\",\n\t\t\t\"URL\": \"http://imgur.com/R2NdDC0.png\"\n\t\t},\n\t\t\"r\": {\n\t\t\t\"letter\": \"R\",\n\t\t\t\"URL\": \"http://imgur.com/TRBbK6s.png\"\n\t\t},\n\t\t\"s\": {\n\t\t\t\"letter\": \"S\",\n\t\t\t\"URL\": \"http://imgur.com/Yg5pCrN.png\"\n\t\t},\n\t\t\"t\": {\n\t\t\t\"letter\": \"T\",\n\t\t\t\"URL\": \"http://imgur.com/t44cYPo.png\"\n\t\t},\n\t\t\"u\": {\n\t\t\t\"letter\": \"U\",\n\t\t\t\"URL\": \"http://imgur.com/rwe2jHk.png\"\n\t\t},\n\t\t\"v\": {\n\t\t\t\"letter\": \"V\",\n\t\t\t\"URL\": \"http://imgur.com/tEuWVjS.png\"\n\t\t},\n\t\t\"w\": {\n\t\t\t\"letter\": \"W\",\n\t\t\t\"URL\": \"http://imgur.com/4YrkhS9.png\"\n\t\t},\n\t\t\"x\": {\n\t\t\t\"letter\": \"X\",\n\t\t\t\"URL\": \"http://imgur.com/rdCCRVK.png\"\n\t\t},\n\t\t\"y\": {\n\t\t\t\"letter\": \"Y\",\n\t\t\t\"URL\": \"http://imgur.com/IZLfNSA.png\"\n\t\t},\n\t\t\"z\": {\n\t\t\t\"letter\": \"Z\",\n\t\t\t\"URL\": \"http://imgur.com/qarqErq.png\"\n\t\t}\n\n\t},\n\n\t\"numbers\": {\n\n\t\t\"0\": {\n\t\t\t\"number\": \"0\",\n\t\t\t\"URL\": \"http://imgur.com/1rkedvr.png\"\n\t\t},\n\t\t\"1\": {\n\t\t\t\"number\": \"1\",\n\t\t\t\"URL\": \"http://imgur.com/WqINV9y.png\"\n\t\t},\n\t\t\"2\": {\n\t\t\t\"number\": \"2\",\n\t\t\t\"URL\": \"http://imgur.com/ILrgc45.png\"\n\t\t},\n\t\t\"3\": {\n\t\t\t\"number\": \"3\",\n\t\t\t\"URL\": \"http://imgur.com/hO7ULVQ.png\"\n\t\t},\n\t\t\"4\": {\n\t\t\t\"number\": \"4\",\n\t\t\t\"URL\": \"http://imgur.com/7lSq5mn.png\"\n\t\t},\n\t\t\"5\": {\n\t\t\t\"number\": \"5\",\n\t\t\t\"URL\": \"http://imgur.com/7DhaPD3.png\"\n\t\t},\n\t\t\"6\": {\n\t\t\t\"number\": \"6\",\n\t\t\t\"URL\": \"http://imgur.com/vQigaLy.png\"\n\t\t},\n\t\t\"7\": {\n\t\t\t\"number\": \"7\",\n\t\t\t\"URL\": \"http://imgur.com/Mq1EyLj.png\"\n\t\t},\n\t\t\"8\": {\n\t\t\t\"number\": \"8\",\n\t\t\t\"URL\": \"http://imgur.com/fqL6zzY.png\"\n\t\t},\n\t\t\"9\": {\n\t\t\t\"number\": \"9\",\n\t\t\t\"URL\": \"http://imgur.com/aeHrAeS.png\"\n\t\t}\n\n\t},\n\n\t\"Mystery\": \"http://imgur.com/mM5vPqB.png\"\n};\n          \n            \n            \n        this.loadJSON = function(){\n            $http.get('services/assets/json/letterJSON.json').then(function(value) {\n                this.letters = value.data\n            })\n        }    \n        \n        this.logLetter = function(){\n            console.log(this.letters);\n        }\n        this.getLetterURL = function(string,loaderData){\n            \n                  var char = string.charAt(0);\n                    var len = 0;\n                    var lenNum = 0;\n                    var URLVALUE = '';\n                    \n                    for(var i in this.letters.letters){\n                        len++;\n                        if(i == (char.toLowerCase())){\n                            URLVALUE = this.letters.letters[i].URL;\n                        }\n                    }\n                    \n                    for(var i in this.letters.numbers){\n                        lenNum++;\n                        if(i == (char)){\n                            URLVALUE = this.letters.numbers[i].URL;\n                        }\n                    }\n                    \n                    if(!URLVALUE){\n                        URLVALUE = this.letters.Mystery\n                    }\n                    \n                    return URLVALUE;\n            \n            \n            \n\n        }    \n    \n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp')\n    \n    app.service('loadingService', [loadingServiceFunc])\n    \n    function loadingServiceFunc() {\n        this.loadingTo = null;\n        this.setLoadingTo = function(value) {\n            this.loadingTo = value;\n        }\n        this.getLoadingTo = function() {\n            return (this.loadingTo);\n        }\n    }\n})(angular);","(function(){\n    var app = angular.module('ForumApp')\n    \n    app.service('otherUserProfilePageService', [otherUserProfilePageServicefunc])\n    \n    function otherUserProfilePageServicefunc(){\n        this.otherUserID = ''\n        \n        this.setID = function(ID){\n            this.otherUserID = ID;\n        }\n        \n        this.getID = function(){\n            return (this.otherUserID);\n        }\n    }\n})(angular);","(function(angular) {\n    var app = angular.module('ForumApp')\n\n    app.service('otherUserService', [refService])\n    \n    function refService(){\n        this.otherUserInfo = null;\n        this.otherACTUALINFO = null;\n        this.setUserInfo = function(info){\n            this.otherUserInfo = info;\n        }\n        this.getUserInfo = function(){\n            return (this.otherUserInfo);\n        }\n        this.ACTUALsetUserInfo = function(info){\n            this.otherACTUALINFO = info;\n        }\n        this.ACTUALgetUserInfo = function(){\n            return (this.otherACTUALINFO);\n        }\n    }\n})(angular);","(function(angular) {\n    var app = angular.module('ForumApp')\n\n    app.service('refService', [\"$firebaseAuth\", refService])\n    \n    function refService($firebaseAuth){\n        this.ref = function() {\n            return new Firebase('https://uniquecodersforums.firebaseio.com/');\n        }\n        this.refAuth = function() {\n            return $firebaseAuth(this.ref());\n        }\n    \n    }\n})(angular);","(function(angular){\n    'use strict';\n    \n    var app = angular.module('ForumApp')\n    \n    app.service('replaceService', [replaceServicefunc])\n    \n    function replaceServicefunc(){\n        this.replaceAllString = function(str1, str2, ignore) {\n                 return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\n            } \n    }\n})(angular);","(function(angular){\r\n    var app = angular.module('ForumApp')\r\n\r\n    app.service('replyService', [replyService])\r\n    function replyService(){\r\n        this.topicTitle = \"\";\r\n        this.creatorTitle = \"\";\r\n        this.creatorUID = \"\"\r\n        this.creatorUsername = \"\"\r\n        this.creatorValue = \"\"\r\n        this.creatorDate = \"\"\r\n        this.creatorAvatar = \"\";\r\n        this.creatorEmail = \"\"\r\n        this.timeSinceCreated = \"\";\r\n        this.postNum = \"\"\r\n        this.setTopicInfo = function(title,creator,uid,username,value,date,email,since,avatar,postNum){\r\n            this.topicTitle = title;\r\n            this.creatorTitle = creator;\r\n            this.creatorUID = uid;\r\n            this.creatorUsername = username;\r\n            this.creatorValue = value;\r\n            this.creatorDate = date;\r\n            this.creatorEmail = email;\r\n            this.timeSinceCreated = since;\r\n            this.creatorAvatar = avatar;\r\n            this.postNum = postNum;\r\n            return title,creator,uid,username,value,date,email,since;\r\n        }\r\n        this.getTopicInfo = function () {\r\n            return this.topicTitle,this.creatorTitle,\r\n                   this.creatorUID,this.creatorUsername,\r\n                   this.creatorValue,this.creatorDate,\r\n                   this.creatorEmail,this.timeSinceCreated\r\n                   this.creatorAvatar,this.postNum;\r\n        }\r\n    }\r\n})(angular);","(function(angular) {\n    var app = angular.module('ForumApp')\n    app.service('timeService', [timeService])\n\n    function timeService() {\n        this.getTimeF = function(time) {\n            switch (typeof time) {\n                case 'number':\n                    break;\n                case 'string':\n                    time = +new Date(time);\n                    break;\n                case 'object':\n                    if (time.constructor === Date) time = time.getTime();\n                    break;\n                default:\n                    time = +new Date();\n            }\n            var time_formats = [\n                [60, 'seconds', 1], // 60\n                [120, '1 min ago', '1 min from now'], // 60*2\n                [3600, 'min', 60], // 60*60, 60\n                [7200, '1h ago', '1h from now'], // 60*60*2\n                [86400, 'h', 3600], // 60*60*24, 60*60\n                [172800, 'Yesterday', 'Tomorrow'], // 60*60*24*2\n                [604800, 'days', 86400], // 60*60*24*7, 60*60*24\n                [1209600, 'Last week', 'Next week'], // 60*60*24*7*4*2\n                [2419200, 'weeks', 604800], // 60*60*24*7*4, 60*60*24*7\n                [4838400, 'Last month', 'Next month'], // 60*60*24*7*4*2\n                [29030400, 'months', 2419200], // 60*60*24*7*4*12, 60*60*24*7*4\n                [58060800, 'Last year', 'Next year'], // 60*60*24*7*4*12*2\n                [2903040000, 'years', 29030400], // 60*60*24*7*4*12*100, 60*60*24*7*4*12\n                [5806080000, 'Last century', 'Next century'], // 60*60*24*7*4*12*100*2\n                [58060800000, 'centuries', 2903040000] // 60*60*24*7*4*12*100*20, 60*60*24*7*4*12*100\n            ];\n            var seconds = (+new Date() - time) / 1000,\n                token = 'ago',\n                list_choice = 1;\n\n            if (seconds == 0) {\n                return 'Just now'\n            }\n            if (seconds < 0) {\n                seconds = Math.abs(seconds);\n                token = 'from now';\n                list_choice = 2;\n            }\n            var i = 0,\n                format;\n            while (format = time_formats[i++])\n                if (seconds < format[0]) {\n                    if (typeof format[2] == 'string')\n                        return format[list_choice];\n                    else\n                        return Math.floor(seconds / format[2]) + ' ' + format[1] + ' ' + token;\n                }\n            return time;\n        }\n\n        this.getTimeS = function(date) {\n\n            var seconds = Math.floor((new Date() - date) / 1000);\n\n            var interval = Math.floor(seconds / 31536000);\n\n            if (interval > 1) {\n                return interval + \" years\";\n            }\n            interval = Math.floor(seconds / 2592000);\n            if (interval > 1) {\n                return interval + \" months\";\n            }\n            interval = Math.floor(seconds / 86400);\n            if (interval > 1) {\n                return interval + \" days\";\n            }\n            interval = Math.floor(seconds / 3600);\n            if (interval > 1) {\n                return interval + \" hours\";\n            }\n            interval = Math.floor(seconds / 60);\n            if (interval > 1) {\n                return interval + \" minutes\";\n            }\n            return Math.floor(seconds) + \" seconds\";\n        }\n    }\n})(angular);","(function(){\n    'use strict';\n    \n        angular\n               .module('ForumApp')\n               .service('topicLikesService', [topicLikesServiceFunc])\n               \n               function topicLikesServiceFunc(){\n                   this.info = [];\n                   \n                   this.setInfo = function(info1, info2){\n                       this.info.push(info1);\n                       this.info.push(info2);\n                   }\n                   \n                   this.resetInfo = function(){\n                       this.info = [];\n                   }\n                   \n                   this.getInfo = function() {\n                       return (this.info);\n                   }\n                   \n                   this.getInfo1 = function(){\n                     return (this.info[0]);   \n                   }\n                   this.getInfo2 = function(){\n                     return (this.info[1]);   \n                   }\n               }\n})(angular);","(function(angular){\n   \n   'use strict';\n   \nangular\n\n   .module('ForumApp')\n   .controller('404Controller', [\"$scope\", ErrControllerFunc])\n   \n   function ErrControllerFunc($scope){\n       \n   }\n    \n})(angular);","(function(angular) {\n\n    'use strict';\n    \n    angular\n            .module('ForumApp')\n            .controller('authCtrl', [\"$scope\", \"$state\", \"refService\", \"$firebaseObject\", \"authCheckTrueService\", \"$firebaseArray\", \"$http\", \"$mdDialog\", \"letterAvatarService\", authCtrl]);\n\n    function authCtrl($scope, $state, refService, $firebaseObject, authCheckTrueService, $firebaseArray, $http, $mdDialog, letterAvatarService) {\n        $scope.loadImageJSON = 'NOTLOADED';\n        authCheckTrueService.checkAuth(refService.ref(), \"authHome.desc\");\n\n        function PASSWORDRESET(length) {\n            var possibleChars = ['abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?_-'];\n            var password = '';\n            for (var i = 0; i < length; i += 1) {\n                password += possibleChars[Math.floor(Math.random() * possibleChars.length)];\n            }\n            return password;\n        }\n\n\n        $scope.toggleClass = function() {\n            $scope.enabled = true;\n        }\n        $scope.close = function() {\n            $scope.enabled = false;\n        }\n\n\n        $scope.forgotPass = function() {\n            alertify.prompt(\n                'Recover Password',\n                'Enter Email Of Account',\n                function(evt, value) {\n                    refService.ref().resetPassword({\n                        email: value\n                    }, function(error) {\n                        if (error) {\n                            switch (error.code) {\n                                case \"INVALID_USER\":\n                                    alertify.error(\"The specified user account does not exist.\");\n                                    break;\n                                default:\n                                    alertify.error(\"Error resetting password:\" + error);\n                            }\n                        }\n                        else {\n                            alertify.success(\"Password reset email sent successfully!\");\n                        }\n                    });\n                }\n            );\n        }\n        \n         $scope.oAuthLogin = function(provider) {\n\n            refService.ref().authWithOAuthPopup(provider, function(error, authData) {\n                if (error) {\n                    alertify.error(\"Log in Failed. See Console for more details\");\n                    console.error(\"ERROR LOGIN : \" + error);\n                    refService.ref().unauth();\n                }\n                else {\n\n                    var usernames = $firebaseArray(refService.ref().child(\"UserAuthInfo\"));\n                    refService.ref().child(\"UserAuthInfo\").child(authData.uid).once(\"value\", function(snapLog) {\n\n                        if (snapLog.val() == null) {\n                            // alertify.error(\"You Havent Signed Up With That Provider! Try Registering That Provider First!\");\n                            vex.dialog.prompt({\n                                message: 'What Email Do you want?',\n                                placeholder: 'Email...',\n                                callback: function(email) {\n\n                                    usernames.$loaded(function(data) {\n                                        for (var i = 0; i < data.length; i++) {\n\n                                            if (data[i].Username == authData[provider].username) {\n                                                $scope.isDupe = true;\n                                                break;\n                                            }\n                                        }\n\n                                        if ($scope.isDupe != true) {\n\n                                            refService.ref().createUser({\n                                                email: email,\n                                                password: PASSWORDRESET(16)\n                                            }, function(error, userData) {\n                                                if (error) {\n                                                    switch (error.code) {\n                                                        case \"EMAIL_TAKEN\":\n                                                            alertify.error(\"The new user account cannot be created because the email is already in use.\");\n                                                            break;\n                                                        case \"INVALID_EMAIL\":\n                                                            alertify.error(\"The specified email is not a valid email.\");\n                                                            break;\n                                                        default:\n                                                            alertify.error(\"Error creating user:\", error);\n                                                    }\n                                                }\n                                                else {\n\n                                                    if (provider == 'twitter' || provider == 'google') {\n\n                                                        if (provider == 'google') {\n                                                            refService.ref().child(\"UserAuthInfo\").child(authData.uid).set({\n                                                                Username: authData[provider].displayName,\n                                                                Email: email,\n                                                                UID: authData.uid,\n                                                                Image: authData[provider].profileImageURL,\n                                                                Moderator: false,\n                                                                BronzeBadge: 0,\n                                                                SilverBadge: 0,\n                                                                GoldBadge: 0,\n                                                                PlatinumBadge: 0,\n                                                                newUser: true,\n                                                                profileBackground: 'http://cine.nl/wp-content/uploads/2015/07/the-revenant-trailer.jpg',\n                                                                followers: 0,\n                                                                following: 0,\n                                                                profileViews: 0,\n                                                                Precence: -1,\n                                                                Points : 0,\n                                                            })\n                                                            alertify.success(\"Sucessfully Reistered. Login Now!\");\n                                                            refService.ref().unauth();\n                                                        }\n                                                        else {\n                                                            refService.ref().child(\"UserAuthInfo\").child(authData.uid).set({\n                                                                Username: authData[provider].username,\n                                                                Email: email,\n                                                                UID: authData.uid,\n                                                                Image: authData[provider].profileImageURL,\n                                                                Moderator: false,\n                                                                BronzeBadge: 0,\n                                                                SilverBadge: 0,\n                                                                GoldBadge: 0,\n                                                                PlatinumBadge: 0,\n                                                                newUser: true,\n                                                                profileBackground: authData[provider].cachedUserProfile.profile_background_image_url_https,\n                                                                followers: 0,\n                                                                following: 0,\n                                                                profileViews: 0,\n                                                                Precence: -1,\n                                                                Points : 0,\n                                                            })\n                                                            alertify.success(\"Sucessfully Reistered. Login Now!\");\n                                                            refService.ref().unauth();\n                                                        }\n                                                    }\n                                                    else {\n                                                        refService.ref().child(\"UserAuthInfo\").child(authData.uid).set({\n                                                            Username: authData[provider].username,\n                                                            Email: email,\n                                                            UID: authData.uid,\n                                                            Image: authData[provider].profileImageURL,\n                                                            Moderator: false,\n                                                            BronzeBadge: 0,\n                                                            SilverBadge: 0,\n                                                            GoldBadge: 0,\n                                                            PlatinumBadge: 0,\n                                                            newUser: true,\n                                                            profileBackground: 'http://cine.nl/wp-content/uploads/2015/07/the-revenant-trailer.jpg',\n                                                            followers: 0,\n                                                            following: 0,\n                                                            profileViews: 0,\n                                                            Precence: -1,\n                                                            Points : 0,\n                                                        })\n                                                        alertify.success(\"Sucessfully Reistered. Login Now!\");\n                                                        refService.ref().unauth();\n                                                    }\n\n\n                                                }\n                                            })\n\n                                        }\n                                        else {\n\n                                            vex.dialog.prompt({\n                                                message: 'Username is a duplicate. Please Choose another one.',\n                                                placeholder: 'Username..',\n                                                callback: function(username) {\n                                                    for (var i = 0; i < data.length; i++) {\n\n                                                        if (data[i].Username == username) {\n                                                            $scope.isUsernameDupeNested = true;\n                                                            break;\n                                                        }\n                                                    }\n\n                                                    if ($scope.isUsernameDupeNested == false) {\n                                                        refService.ref().createUser({\n                                                            email: email,\n                                                            password: PASSWORDRESET(16)\n                                                        }, function(error, userData) {\n                                                            if (error) {\n                                                                switch (error.code) {\n                                                                    case \"EMAIL_TAKEN\":\n                                                                        alertify.error(\"The new user account cannot be created because the email is already in use.\");\n                                                                        break;\n                                                                    case \"INVALID_EMAIL\":\n                                                                        alertify.error(\"The specified email is not a valid email.\");\n                                                                        break;\n                                                                    default:\n                                                                        alertify.error(\"Error creating user:\", error);\n                                                                }\n                                                            }\n                                                            else {\n\n                                                                if (provider == 'google') {\n                                                                    refService.ref().child(\"UserAuthInfo\").child(authData.uid).set({\n                                                                        Username: authData[provider].displayName,\n                                                                        Email: email,\n                                                                        UID: authData.uid,\n                                                                        Image: authData[provider].profileImageURL,\n                                                                        Moderator: false,\n                                                                        BronzeBadge: 0,\n                                                                        SilverBadge: 0,\n                                                                        GoldBadge: 0,\n                                                                        PlatinumBadge: 0,\n                                                                        newUser: true,\n                                                                        profileBackground: 'http://cine.nl/wp-content/uploads/2015/07/the-revenant-trailer.jpg',\n                                                                        followers: 0,\n                                                                        following: 0,\n                                                                        profileViews: 0,\n                                                                        Precence: -1,\n                                                                        Points : 0,\n                                                                    })\n                                                                    alertify.success(\"Sucessfully Reistered. Login Now!\");\n                                                                    refService.ref().unauth();\n                                                                }\n                                                                else {\n                                                                    refService.ref().child(\"UserAuthInfo\").child(authData.uid).set({\n                                                                        Username: authData[provider].username,\n                                                                        Email: email,\n                                                                        UID: authData.uid,\n                                                                        Image: authData[provider].profileImageURL,\n                                                                        Moderator: false,\n                                                                        BronzeBadge: 0,\n                                                                        SilverBadge: 0,\n                                                                        GoldBadge: 0,\n                                                                        PlatinumBadge: 0,\n                                                                        newUser: true,\n                                                                        profileBackground: authData[provider].cachedUserProfile.profile_background_image_url_https,\n                                                                        followers: 0,\n                                                                        following: 0,\n                                                                        profileViews: 0,\n                                                                        Precence: -1,\n                                                                        Points : 0,\n                                                                    })\n                                                                    alertify.success(\"Sucessfully Reistered. Login Now!\");\n                                                                    refService.ref().unauth();\n                                                                }\n\n                                                            }\n                                                        })\n                                                    }\n                                                    else {\n                                                        alertify.error(\"The username you entered is another dupe... Refresh will be made soon. Please Give a Unique Username next time you register.\")\n                                                        refService.ref().unauth();\n                                                        setTimeout(function() {\n                                                            location.reload(true);\n                                                        }, 10000)\n                                                    }\n\n\n\n                                                }\n                                            })\n\n\n\n                                        }\n                                    });\n\n\n                                }\n\n\n                            })\n\n\n\n                        }\n                        else {\n\n                            alertify.success(\"Sucessfully Logged In!\");\n                            $state.go('authHome.desc');\n\n                        }\n\n                    })\n\n\n\n                }\n            });\n        }\n        $scope.loginAUTH = function() {\n            refService.ref().authWithPassword({\n                \"email\": $scope.user.email,\n                \"password\": $scope.user.password\n            }, function(error, authData) {\n                if (error) {\n                    alertify.error(\"Unsucessfull Authentication. See console for details\")\n                    console.error(error);\n                }\n                else {\n                    alertify.success(\"Sucessfull Authentication\");\n                    $state.go('authHome')\n                }\n            });\n        }\n\n\n\n        $scope.regissterForm = function() {\n\n            $scope.isUsernameDupe = false;\n            refService.ref().child(\"UserAuthInfo\").on(\"value\", function(snapshot) {\n                snapshot.forEach(function(childSNap) {\n\n                    var key = childSNap.key();\n                    var childData = childSNap.val();\n\n                    if (childData.Username == $scope.register.username) {\n                        $scope.isUsernameDupe = true;\n                        return;\n                    }\n                })\n                if (($scope.isUsernameDupe != true)) {\n                    if ($scope.isUsernameDupe == false) {\n                        refService.ref().createUser({\n                            email: $scope.register.email,\n                            password: $scope.register.password\n                        }, function(error, userData) {\n                            if (error) {\n                                switch (error.code) {\n                                    case \"EMAIL_TAKEN\":\n                                        alertify.error(\"The new user account cannot be created because the email is already in use.\");\n                                        break;\n                                    case \"INVALID_EMAIL\":\n                                        alertify.error(\"The specified email is not a valid email.\");\n                                        break;\n                                    default:\n                                        alertify.error(\"Error creating user:\", error);\n                                }\n                            }\n                            else {\n                                $scope.$evalAsync(\n                                    function() {\n                                        var letterAvatar = letterAvatarService.getLetterURL($scope.register.username, $scope.loadImageJSON);\n                                        setTimeout(function() {\n                                            refService.ref().child(\"UserAuthInfo\").child(userData.uid).set({\n                                                Username: $scope.register.username,\n                                                Email: $scope.register.email,\n                                                UID: userData.uid,\n                                                Image: letterAvatarService.getLetterURL($scope.register.username),\n                                                Moderator: false,\n                                                BronzeBadge: 0,\n                                                SilverBadge: 0,\n                                                GoldBadge: 0,\n                                                PlatinumBadge: 0,\n                                                newUser: true,\n                                                profileBackground: 'http://rmdeaftheatre.com/wp-content/uploads/2012/11/gray-background-3.jpg',\n                                                followers: 0,\n                                                following: 0,\n                                                profileViews: 0,\n                                                Precence: -1,\n                                                Points : 0,\n                                            });\n\n                                        }, 1500)\n\n                                        alertify.success(\"Sucessfully Registered\")\n                                    }\n                                );\n\n                            }\n                        });\n                    }\n\n                }\n                else {\n                    alertify.error(\"Username already in use. If you see a green sign above saying You sucessfully registered. Dont worry about this\");\n                }\n            })\n\n\n\n\n        }\n\n        $scope.setResponse = function() {\n\n            $mdDialog.show(\n                $mdDialog.alert()\n                .clickOutsideToClose(true)\n                .title('Sucess')\n                .textContent('Recaptcha Submited Sucessfully')\n                .ariaLabel('Offscreen Demo')\n                .ok('Redirecting...')\n                .openFrom({\n                    top: -50,\n                    width: 30,\n                    height: 80\n                })\n                .closeTo({\n                    left: 1500\n                })\n            );\n            setTimeout(function() {\n                $mdDialog.cancel();\n            }, 1000);\n        }\n\n    }\n\n})(angular);","(function(angular) {\n    \n    'use strict';\n    \n    angular\n           .module('ForumApp')\n           .controller('authDescCtrl', [\"$scope\", \"dateFilter\", \"$mdDialog\", \"$state\", \"$mdMedia\", \"$mdBottomSheet\", \"$firebaseObject\", \"refService\", \"$timeout\", \"$firebaseArray\", authDescCtrl])\n\n    function authDescCtrl($scope, dateFilter, $mdDialog, $state, $mdMedia, $mdBottomSheet, $firebaseObject, refService, $timeout, $firebaseArray) {\n\n        $scope.authDataDesc = refService.ref().getAuth();\n\n        $scope.topic = $firebaseObject(refService.ref().child(\"Topics\"))\n        $scope.topicName = $firebaseArray(refService.ref().child(\"Topics\"))\n        $scope.topicViewsLen = [];\n\n\n        //Setting Views\n        $scope.topicName.$loaded(function(data) {\n            data.forEach(function(dataChild) {\n                var x = dataChild.Views;\n                var len = 0;\n                for (var i in dataChild.Views) {\n                    len++;\n                }\n                $scope.topicViewsLen.push(len);\n            })\n            var times = 0;\n            data.forEach(function(dataChild) {\n                refService.ref().child(\"Topics\").child(dataChild.pushKey).update({\n                    ViewsLen: $scope.topicViewsLen[times]\n                })\n                times++;\n \n            })\n        })\n        \n        function bookmarked(rep){\n            var returne = \"False\"\n                refService.ref().child(\"Topics\").once(\"value\", function(snapshotBookMarkOutlineTopic) {\n                        snapshotBookMarkOutlineTopic.forEach(function(evenChildBook) {\n                                var bookkey = evenChildBook.key();\n                                var bookchildData = evenChildBook.val();\n                                if(bookchildData.Bookmarks) {\n                                    if(bookchildData.Bookmarks[$scope.authDataDesc.uid].Bookmark == true)\n                                        returne = \"True\"\n                                }\n                        })\n                })\n            return returne;\n        }\n        \n        $scope.bookmarked = function(rep){\n            if($scope.authDataDesc == null){\n                return false;\n            }\n            else{\n                if(bookmarked(rep) == \"True\")\n                    return true;\n                else\n                    return false;\n            }\n        }\n\n        $scope.goToPerson = function(person, event) {\n            $mdDialog.show(\n                $mdDialog.alert()\n                .title('Navigating')\n                .textContent('Inspect ' + person)\n                .ariaLabel('Person inspect demo')\n                .ok('Neat!')\n                .targetEvent(event)\n            );\n        };\n        \n         $scope.loadUsers = function(topic) {\n            // Use timeout to simulate a 650ms request.\n            return $timeout(function() {\n                $scope.tagsOption = topic.Tags;\n            }, 650);\n        };\n\n\n\n        $scope.showNewTopic = function(ev) {\n            if (ev) {\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n                $mdBottomSheet.show({\n                    controller: 'newTopicCtrl',\n                    templateUrl: 'app/components/newTopic/newTopic.html',\n                    parent: angular.element(document.body),\n                    resolve: {\n                        // controller will not be loaded until $waitForAuth resolves\n                        // Auth refers to our $firebaseAuth wrapper in the example above\n                        \"currentAuth\": [\"refService\", function(refService) {\n                            // $waitForAuth returns a promise so the resolve waits for it to complete\n                            return refService.refAuth().$requireAuth();\n                        }]\n                    },\n                    targetEvent: ev,\n                    clickOutsideToClose: true,\n                    fullscreen: useFullScreen\n                }).then(function(clickedItem) {\n                    $scope.alert = clickedItem['name'] + ' clicked!';\n                });\n\n            } else {\n\n\n            }\n        }\n\n        $scope.goToTOPICAUTCOMPLETE = function(info) {\n            $state.go(\"authHome.topic\", {\n                \"USERNAME\": info.Username,\n                \"POST\": info.Postnum\n            })\n        }\n        $scope.goToTopic = function(avatar, date, email, title, uid, username, value, postnum) {\n            $state.go(\"authHome.topic\", {\n                \"USERNAME\": username,\n                \"POST\": postnum\n            })\n\n        }\n\n\n    }\n})(angular);","(function(angular){\n    \n    'use strict';\n    \n    angular\n            .module('ForumApp')\n            .controller('editReplyCtrl', [\"$scope\",\"$mdDialog\",\"currentAuth\",\"refService\",\"editTopicService\",\"editReplyService\", editReplyFunc])\n    \n    function editReplyFunc($scope,$mdDialog,currentAuth,refService,editTopicService,editReplyService){\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        String.prototype.replaceAt = function(index, character) {\n            return this.substr(0, index) + character + this.substr(index + character.length);\n        }\n        String.prototype.replaceAll = function(str1, str2, ignore) {\n            return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g, \"\\\\$&\"), (ignore ? \"gi\" : \"g\")), (typeof(str2) == \"string\") ? str2.replace(/\\$/g, \"$$$$\") : str2);\n        }\n        \n         marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: false,\n            pedantic: false,\n            sanitize: false,\n            smartLists: true,\n            smartypants: false,\n            highlight: function(code, lang) {\n                if (lang) {\n                    return hljs.highlight(lang, code).value;\n                }\n                else {\n                    return hljs.highlightAuto(code).value;\n                }\n            }\n        });\n\n        $scope.emojieList = {\n            ':)': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':smile:': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':(': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':sad:': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':D': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':smiley:': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':;': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':very_happy:': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':P': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':tounge_stuck_out:': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':X': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            ':cant_talk:': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            //No :text: for this Begin\n            'xD': '<img src=\"assets/emoji/emoji-E770.png\"/>',\n            //Done\n            '-1': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            ':minus_one:': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            '+1': '<img src=\"assets/emoji/emoji-E00E.png\"/>',\n            ':plus_one:': '<img src=\"assets/emoji/emoji-E00E.png\"/>'\n        }\n         $scope.myConfig = {\n            create: true,\n            onChange: function(value) {\n                console.log('onChange', value)\n            },\n            valueField: 'ID',\n            labelField: 'Name',\n            maxItems: 5,\n            required: true,\n        }\n\n        $scope.$watch('editValue', function(current, original) {\n\n            $scope.outputText = marked(current);\n            //EMOJIE LIST {PARAM} {https://github.com/amanuel2/ng-forum/wiki/How-to-write-emotions}\n            for (var prop in $scope.emojieList)\n                $scope.outputText = $scope.outputText.replaceAll(prop, $scope.emojieList[prop]);\n        });\n        \n        $scope.editREPLY = function(){\n            var topicPushKey = editReplyService.getPushK();\n            var POST = editReplyService.getDatee();\n            var USERNAME = editReplyService.getName();\n            var UIDUSERNAME = editReplyService.getTopicUID();\n            \n            \n            refService.ref().child(\"Replies\").child(USERNAME+POST).on(\"value\", function(snapshot){\n                snapshot.forEach(function(childSnap){\n                    var key = childSnap.key();\n                    var childData = childSnap.val();\n                    if(childData.pushKey == topicPushKey){\n                        refService.ref().child(\"Replies\").child(USERNAME+POST).child(childData.pushKey).update({\n                            replyCreatorValue : $scope.editValue\n                        })\n                    }\n                })\n            })\n            \n        }\n\n    }\n    \n})(angular);","(function(angular){\n    'use strict';\n    angular\n            .module('ForumApp')\n            .controller('editTopicCtrl', [\"$scope\",\"$mdDialog\",\"currentAuth\",\"refService\",\"editTopicService\", editTopicFunc])\n    \n    function editTopicFunc($scope,$mdDialog,currentAuth,refService,editTopicService){\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        \n        $scope.submitNewEdit = function(){\n            var newSentence = $scope.edit.sentence;\n            refService.ref().child(\"Topics\").on(\"value\", function(snapshot){\n                snapshot.forEach(function(childSnapshot){\n                    var key = childSnapshot.key();\n                    var childData = childSnapshot.val();\n                    var DATE = editTopicService.getDateCreated();\n                   if(childData.UID == currentAuth.uid && childData.DateCreated == DATE){\n                       refService.ref().child(\"Topics\").child(childData.pushKey).update({\n                           Value: newSentence\n                       })\n                   }\n                })\n                $mdDialog.cancel();\n            })\n        }\n\n    }\n    \n})(angular);","(function(angular) {\n    'use strict';\n\n    angular\n        .module('ForumApp')\n        .controller('editTopicPanelCtrl', ['$scope', 'refService', '$firebaseObject', '$stateParams', '$firebaseArray', '$mdDialog', editTopicPanelCtrlfunc]);\n\n    function editTopicPanelCtrlfunc($scope, refService, $firebaseObject, $stateParams, $firebaseArray, $mdDialog) {\n        String.prototype.replaceAt = function(index, character) {\n            return this.substr(0, index) + character + this.substr(index + character.length);\n        }\n        String.prototype.replaceAll = function(str1, str2, ignore) {\n            return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g, \"\\\\$&\"), (ignore ? \"gi\" : \"g\")), (typeof(str2) == \"string\") ? str2.replace(/\\$/g, \"$$$$\") : str2);\n        }\n\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        }\n\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: false,\n            pedantic: false,\n            sanitize: false,\n            smartLists: true,\n            smartypants: false,\n            highlight: function(code, lang) {\n                if (lang) {\n                    return hljs.highlight(lang, code).value;\n                }\n                else {\n                    return hljs.highlightAuto(code).value;\n                }\n            }\n        });\n\n        $scope.emojieList = {\n            ':)': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':smile:': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':(': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':sad:': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':D': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':smiley:': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':;': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':very_happy:': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':P': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':tounge_stuck_out:': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':X': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            ':cant_talk:': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            //No :text: for this Begin\n            'xD': '<img src=\"assets/emoji/emoji-E770.png\"/>',\n            //Done\n            '-1': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            ':minus_one:': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            '+1': '<img src=\"assets/emoji/emoji-E00E.png\"/>',\n            ':plus_one:': '<img src=\"assets/emoji/emoji-E00E.png\"/>'\n        }\n\n\n        $scope.outputTextFirebaseObject = $firebaseObject(refService.ref().child(\"Topics\"))\n        $scope.defaultTags = $firebaseArray(refService.ref().child(\"Constants\").child('Tags').child(\"Default\"));\n        $scope.outputTextFirebaseObject.$loaded(function(daDATA) {\n            for (var prop in daDATA) {\n                if (daDATA[prop] !== null) {\n                    if (daDATA[prop].Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(daDATA[prop].pushKey).once(\"value\", function(daDATASNAP) {\n                            $scope.editTitle = daDATASNAP.val().Title\n                            $scope.editValue = daDATASNAP.val().Value;\n                        })\n\n                    }\n                }\n            }\n        })\n        $scope.myConfig = {\n            create: true,\n            onChange: function(value) {\n                console.log('onChange', value)\n            },\n            valueField: 'ID',\n            labelField: 'Name',\n            maxItems: 5,\n            required: true,\n        }\n\n        $scope.$watch('editValue', function(current, original) {\n\n            $scope.outputText = marked(current);\n            //EMOJIE LIST {PARAM} {https://github.com/amanuel2/ng-forum/wiki/How-to-write-emotions}\n            for (var prop in $scope.emojieList)\n                $scope.outputText = $scope.outputText.replaceAll(prop, $scope.emojieList[prop]);\n        });\n\n        $scope.shortcuts = function(shortcutName) {\n            var element = document.getElementById('markdownUserType');\n            switch (shortcutName) {\n                case 'bold':\n                    element.value += '**BoldTextHere**';\n                    break;\n                case 'italics':\n                    element.value += '_ItalicTextHere_';\n                    break;\n\n                case 'image':\n                    element.value += '![](http://)';\n                    break;\n\n                case 'url':\n                    element.value += '[](http://)';\n                    break;\n\n                case 'quote':\n                    element.value += '> Quote Here';\n                    break;\n\n                case 'number':\n                    element.value += '\\n\\n 1. List item'\n                    break;\n\n                case 'bullet':\n                    element.value += '\\n\\n * List item'\n                    break;\n                case 'header':\n                    element.value += '# Header Here.';\n                    break;\n\n                case 'code':\n                    element.value += \"```[languageName. If you dont know delete this bracket and leave it with three ticks]\\n\" + \"console.log('Code Here') \\n\" + \"```\";\n                    break;\n\n                case 'horizontal':\n                    element.value += \"\\n\\n ----\"\n                    break;\n\n                case 'paste':\n                    if (window.clipboardData) {\n                        element.value += window.clipboardData.getData(\"Text\");\n                    }\n                    else {\n                        alertify.error(window.clipboardData.getData('Text'));\n                    }\n\n                case 'help':\n                    window.open('https://simplemde.com/markdown-guide');\n                    break;\n\n            }\n        }\n\n        $scope.editTopicPan = function() {\n            var indexSelected = $scope.tagsSelected;\n             $scope.tagsSelectedFireBase = [];\n            //$scope.defaultTags\n            for (var i = 0; i < indexSelected.length; i++) {\n                $scope.tagsSelectedFireBase.push($scope.defaultTags[indexSelected[i]].Name)\n            }\n            $scope.editTextStuff = $firebaseObject(refService.ref().child(\"Topics\"))\n            $scope.editTextStuff.$loaded(function(daDATA) {\n                for (var prop in daDATA) {\n                    if (daDATA[prop] !== null) {\n                        if (daDATA[prop].Postnum == $stateParams.POST) {\n                            refService.ref().child(\"Topics\").child(daDATA[prop].pushKey).update({\n                                Value : $scope.editValue,\n                                Title : $scope.editTitle,\n                                Tags : $scope.tagsSelectedFireBase\n                            })\n                        }\n                    }\n                }\n                $mdDialog.cancel();\n            })\n\n        }\n    }\n\n})(angular);","(function(angular){\n\n  'use strict';    \n    \n  angular\n      .module('ForumApp')\n      .controller('loadingCtrl', [\"$scope\",'$state','refService','loadingService', loadingCtrlfunc])\n    \n    function loadingCtrlfunc($scope,$state,refService,loadingService){\n        $scope.currentAuthGet = refService.ref().getAuth();\n        $scope.title = \"Ng-Forum\";\n        $scope.subTitle = \"Loading...\";\n         setTimeout(function(){\n             var loaderLoc = loadingService.getLoadingTo();\n             if(loaderLoc) \n                $state.go(loaderLoc)\n             else\n                window.location.href = ''\n         },3500)\n    }\n})(angular);","(function(angular) {\n\n  'use strict';\n  \n  angular\n        .module('ForumApp')\n        .controller('homeCtrl', [\"$scope\", \"$state\", \"refService\",\"loadingService\", homeCtrl])\n\n  function homeCtrl($scope, $state, refService,loadingService) {\n    //var checkAuth = refService.ref().getAuth() ? $state.go(\"authHome.desc\") : console.log(\"Not Logged In\");\n    // authCheckTrueService.checkAuth(refService.ref(), \"authHome.desc\");\n\n    var circle = document.querySelector('.material-btn');\n    var link = document.querySelector('.material-content').querySelectorAll('li');\n    var ham = document.querySelector('.material-hamburger');\n    var main = document.querySelector('main');\n    var win = window;\n\n    function openMenu(event) {\n\n      circle.classList.toggle('active');\n      ham.classList.toggle('material-close');\n      main.classList.toggle('active');\n      for (var i = 0; i < link.length; i++) {\n        link[i].classList.toggle('active');\n      }\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n\n    function closeMenu() {\n      if (circle.classList.contains('active')) {\n        circle.classList.remove('active');\n        for (var i = 0; i < link.length; i++) {\n          link[i].classList.toggle('active');\n        }\n        ham.classList.remove('material-close');\n        main.classList.remove('active');\n      }\n    }\n\n    circle.addEventListener('click', openMenu, false);\n\n    win.addEventListener('click', closeMenu, false);\n\n\n  $scope.goTo = function(loc) {\n    loadingService.setLoadingTo(loc);\n    $state.go('loading')\n  }\n\n  }\n\n})(angular);","(function(angular) {\r\n'use strict';\r\n    angular\r\n        .module('ForumApp')\r\n        .controller('newReplyCtrl', [\"$scope\", \"$firebaseObject\", \"$mdDialog\", \"refService\", \"currentAuth\", \"replyService\", \"timeService\", \"$stateParams\", \"$firebaseArray\", newReplyCtrl])\r\n\r\n    function newReplyCtrl($scope, $firebaseObject, $mdDialog, refService, currentAuth, replyService, timeService, $stateParams, $firebaseArray) {\r\n        $scope.hide = function() {\r\n            $mdDialog.hide();\r\n        };\r\n        $scope.cancel = function() {\r\n            $mdDialog.cancel();\r\n        };\r\n        $scope.answer = function(answer) {\r\n            $mdDialog.hide(answer);\r\n        };\r\n        \r\n        String.prototype.replaceAll = function(str1, str2, ignore) {\r\n            return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n        } \r\n        \r\n         marked.setOptions({\r\n            renderer: new marked.Renderer(),\r\n            gfm: true,\r\n            tables: true,\r\n            breaks: false,\r\n            pedantic: false,\r\n            sanitize: false, \r\n            smartLists: true,\r\n            smartypants: false,\r\n            highlight: function (code, lang) {\r\n              if (lang) {\r\n                return hljs.highlight(lang, code).value;\r\n              } else {\r\n                return hljs.highlightAuto(code).value;\r\n              }\r\n            }\r\n          });\r\n          \r\n         $scope.emojieList = {\r\n            ':)': '<img src=\"assets/emoji/emoji-E056.png\"/>',\r\n            ':smile:': '<img src=\"assets/emoji/emoji-E056.png\"/>',\r\n            ':(': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\r\n            ':sad:': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\r\n            ':D': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\r\n            ':smiley:': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\r\n            ':;': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\r\n            ':very_happy:': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\r\n            ':P': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\r\n            ':tounge_stuck_out:': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\r\n            ':X': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\r\n            ':cant_talk:': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\r\n            //No :text: for this Begin\r\n            'xD': '<img src=\"assets/emoji/emoji-E770.png\"/>',\r\n            //Done\r\n            '-1': '<img src=\"assets/emoji/emoji-E421.png\"/>',\r\n            ':minus_one:': '<img src=\"assets/emoji/emoji-E421.png\"/>',\r\n            '+1': '<img src=\"assets/emoji/emoji-E00E.png\"/>',\r\n            ':plus_one:': '<img src=\"assets/emoji/emoji-E00E.png\"/>'\r\n          }\r\n        $scope.$watch('markdownData', function(current, original) {\r\n          $scope.outputText = marked(current);\r\n          //EMOJIE LIST {PARAM} {https://github.com/amanuel2/ng-forum/wiki/How-to-write-emotions}\r\n          for(var prop in $scope.emojieList)\r\n              $scope.outputText = $scope.outputText.replaceAll(prop, $scope.emojieList[prop]); \r\n        });\r\n\r\n        $scope.submitNewReply = function() {\r\n            $scope.currentAuthGet = refService.ref().getAuth();\r\n\r\n            $scope.numRepliesAlready = $firebaseArray(refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST))\r\n\r\n            $scope.numRepliesAlready.$loaded(function(data) {\r\n                refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGet.uid).on(\"value\", function(snapshot) {\r\n                    $scope.userAvatar = snapshot.val().Image;\r\n                    $scope.userName = snapshot.val().Username;\r\n                    $scope.userEmail = snapshot.val().Email;\r\n\r\n                })\r\n                var pushingR = refService.ref().child(\"Replies\").child(replyService.creatorUsername + replyService.postNum).push({\r\n                    replyCreatorUsername: $scope.userName,\r\n                    replyCreatorAvatar: $scope.userAvatar,\r\n                    replyCreatorEmail: $scope.userEmail,\r\n                    replyCreatorUID: $scope.currentAuthGet.uid,\r\n                    replyCreatorValue: $scope.markdownData,\r\n                    replyCreatorDate: Date.now(),\r\n                    Replynum: data.length,\r\n                    replyCreatorDateParsed: timeService.getTimeF(new Date(parseInt(Date.now()))),\r\n                    topicCreatorUsername: replyService.creatorUsername,\r\n                    topicCreatorUID: replyService.creatorUID,\r\n                    topicCreatorTitle: replyService.creatorTitle,\r\n                    topicCreatorAvatar: replyService.creatorAvatar,\r\n                    topicCreatorSince: replyService.timeSinceCreated\r\n\r\n                })\r\n                refService.ref().child(\"Replies\").child(replyService.creatorUsername + replyService.postNum).child(pushingR.key()).update({\r\n                    pushKey: pushingR.key()\r\n                })\r\n\r\n                $scope.lastAct = $firebaseObject(refService.ref().child(\"Topics\"));\r\n                $scope.lastAct.$loaded(function(dataLast) {\r\n                    dataLast.forEach(function(snapDataLastAct) {\r\n                        if (snapDataLastAct.Postnum == $stateParams.POST) {\r\n                            refService.ref().child(\"Topics\").child(snapDataLastAct.pushKey).update({\r\n                                LastActivity: Date.now(),\r\n                            })\r\n                            refService.ref().child(\"Topics\").child(snapDataLastAct.pushKey).once(\"value\", function(snapREPVIEWS) {\r\n                                if (!snapREPVIEWS.val().RepliesNum) {\r\n                                    console.log(snapREPVIEWS)\r\n                                    refService.ref().child(\"Topics\").child(snapDataLastAct.pushKey).update({\r\n                                        RepliesNum: (1)\r\n                                    })\r\n                                } else {\r\n                                    refService.ref().child(\"Topics\").child(snapDataLastAct.pushKey).update({\r\n                                        RepliesNum: (snapREPVIEWS.val().RepliesNum + 1)\r\n                                    })\r\n                                }\r\n\r\n\r\n                            })\r\n                        }\r\n                    })\r\n                })\r\n                $scope.markdownData = '';\r\n                $mdDialog.cancel();\r\n\r\n\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n})(angular);","(function(angular) {\n    'use struct';\n  angular\n    .module('ForumApp')\n    .controller('newTopicCtrl', [\"$scope\", \"$mdDialog\", \"$firebaseArray\",\"emojieTool\",\"$mdMedia\",\"emojiListService\", \"refService\", \"$firebaseArray\", \"$firebaseObject\", \"$mdBottomSheet\", '$http', newTopicCtrl])\n\n\n \n  \n    function newTopicCtrl($scope, $mdDialog, $firebaseArray,emojieTool,$mdMedia,emojiListService, refService, $firebaseArray, $firebaseObject, $mdBottomSheet, $http) {\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        $scope.logicToGoBack = function() {\n            $mdBottomSheet.cancel()\n        }\n        String.prototype.replaceAt=function(index, character) {\n            return this.substr(0, index) + character + this.substr(index+character.length);\n        }\n        String.prototype.replaceAll = function(str1, str2, ignore) {\n            return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\n        } \n        $scope.currentAuthGet = refService.ref().getAuth();\n         marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: false,\n            pedantic: false,\n            sanitize: false, \n            smartLists: true,\n            smartypants: false,\n            highlight: function (code, lang) {\n              if (lang) {\n                return hljs.highlight(lang, code).value;\n              } else {\n                return hljs.highlightAuto(code).value;\n              }\n            }\n          });\n          \n         $scope.emojieList = {\n            ':)': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':smile:': '<img src=\"assets/emoji/emoji-E056.png\"/>',\n            ':(': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':sad:': '<img src=\"assets/emoji/emoji-E058.png\"/> ',\n            ':D': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':smiley:': '<img src=\"assets/emoji/emoji-E415.png\"/> ',\n            ':;': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':very_happy:': '<img src=\"assets/emoji/emoji-E057.png\"/> ',\n            ':P': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':tounge_stuck_out:': '<img src=\"assets/emoji/emoji-E105.png\"/> ',\n            ':X': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            ':cant_talk:': '<img src=\"assets/emoji/emoji-E40C.png\"/>',\n            'xD': '<img src=\"assets/emoji/emoji-E770.png\"/>',\n            ':laugh_dang:' : '<img src=\"assets/emoji/emoji-E770.png\"/>',\n            '-1': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            ':minus_one:': '<img src=\"assets/emoji/emoji-E421.png\"/>',\n            '+1': '<img src=\"assets/emoji/emoji-E00E.png\"/>',\n            ':plus_one:': '<img src=\"assets/emoji/emoji-E00E.png\"/>'\n          }\n        $scope.$watch('markdownData', function(current, original) {\n          $scope.outputText = marked(current);\n          //EMOJIE LIST {PARAM} {https://github.com/amanuel2/ng-forum/wiki/How-to-write-emotions}\n          for(var prop in $scope.emojieList)\n              $scope.outputText = $scope.outputText.replaceAll(prop, $scope.emojieList[prop]); \n        });\n        //Load Tags If Not Done...\n        var defaultTags = [\"Assembly\", \"C\", \"C++\", \"Java\", \"Javascript\", \"Firebase\", \"AngularFire\", \"MongoDB\", \"NodeJS\",\n            \"Go\", \"PHP\", \"MySQL\", \"Postgree\", \"Ruby\", \"Python\", \"Perl\", \".Net\", \"ASP.Net\", \"C#\", \"Visual Basic\", \"VB.net\",\"AngularJS\", \"Materializecss\"\n        ]\n\n        $scope.isThereTag = false;\n\n        $scope.defaultTags = $firebaseArray(refService.ref().child(\"Constants\").child('Tags').child(\"Default\"));\n        \n\n        $scope.myConfig = {\n            create: true,\n            onChange: function(value) {\n                console.log('onChange', value)\n            },\n            valueField: 'ID',\n            labelField: 'Name',\n            maxItems: 5,\n            required: true,\n        }\n\n\n        $scope.tagCheckPrev = $firebaseObject(refService.ref().child(\"Constants\").child(\"Tags\"));\n\n        $scope.tagCheckPrev.$loaded(function(dataC) {\n            if (dataC.Default) {\n                console.log(\"Default Already Loaded\")\n            }\n            else {\n                for (var i = 0; i < defaultTags.length; i++) {\n                    refService.ref().child(\"Constants\").child(\"Tags\").child(\"Default\").push({\n                        ID: i,\n                        Name: defaultTags[i]\n                    })\n                }\n            }\n        })\n\n\n        $scope.undoAndRedo = function(ev, opt) {\n            if (opt == 'undo') {\n                $mdDialog.show(\n                    $mdDialog.alert()\n                    .parent(angular.element(document.querySelector('#popupContainer')))\n                    .clickOutsideToClose(true)\n                    .title('Undo')\n                    .textContent('Just Click Ctrl + Z Simultaneously to Undo Your Changes')\n                    .ariaLabel('Alert Dialog Demo')\n                    .ok('Got it!')\n                    .targetEvent(ev)\n                );\n            }\n\n            else {\n                $mdDialog.show(\n                    $mdDialog.alert()\n                    .parent(angular.element(document.querySelector('#popupContainer')))\n                    .clickOutsideToClose(true)\n                    .title('Redo')\n                    .textContent('Just Click Ctrl + Y Simultaneously to Redo Your Changes')\n                    .ariaLabel('Alert Dialog Demo')\n                    .ok('Got it!')\n                    .targetEvent(ev)\n                );\n            }\n        }\n\n        angular.element(document).ready(function() {\n            new Clipboard('.btn');\n        })\n        $scope.markdownData = \"# Type Your Markrdown Here\";\n\n        $scope.shortcuts = function(shortcutName) {\n            var element = document.getElementById('markdownUserType');\n            switch (shortcutName) {\n                case 'bold':\n                    element.value += '**BoldTextHere**';\n                    break;\n                case 'italics':\n                    element.value += '_ItalicTextHere_';\n                    break;\n\n                case 'image':\n                    element.value += '![](http://)';\n                    break;\n\n                case 'url':\n                    element.value += '[](http://)';\n                    break;\n\n                case 'quote':\n                    element.value += '> Quote Here';\n                    break;\n\n                case 'number':\n                    element.value += '\\n\\n 1. List item'\n                    break;\n\n                case 'bullet':\n                    element.value += '\\n\\n * List item'\n                    break;\n                case 'header':\n                    element.value += '# Header Here.';\n                    break;\n\n                case 'code':\n                    element.value += \"```[languageName. If you dont know delete this bracket and leave it with three ticks]\\n\" + \"console.log('Code Here') \\n\" + \"```\";\n                    break;\n\n                case 'horizontal':\n                    element.value += \"\\n\\n -----\"\n                    break;\n\n                case 'paste':\n                    if (window.clipboardData) {\n                        element.value += window.clipboardData.getData(\"Text\");\n                    }\n                    else {\n                        alertify.error(window.clipboardData.getData('Text'));\n                    }\n                    \n                case 'emojies':\n                     \n                case 'help':\n                    window.open('https://simplemde.com/markdown-guide');\n                    break;\n\n            }\n        }\n        \n        $scope.emojieStart = function(ev) {\n             if (ev) {\n                 var element = document.getElementById('markdownUserType');\n                emojieTool.setElementInfo(element);\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n                $mdDialog.show({\n                        controller: 'emojieToolCtrl',\n                        templateUrl: 'app/components/emojieTool/emojieTool.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                        fullscreen: useFullScreen\n                    })\n                    .then(function(answer) {\n                        //Then Argument\n                    }, function() {\n                        //Canceled Dialog\n                    });\n            }\n            else {\n                return null;\n            }\n        }\n        $scope.submitNewTopic = function() {\n            var indexSelected = $scope.tagsSelected;\n            $scope.tagsSelectedFireBase = [];\n            //$scope.defaultTags\n            for (var i = 0; i < indexSelected.length; i++) {\n                $scope.tagsSelectedFireBase.push($scope.defaultTags[indexSelected[i]].Name)\n            }\n\n            var search = $firebaseArray(refService.ref().child(\"Topics\"))\n            search.$loaded(function(data) {\n                refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGet.uid).on(\"value\", function(snapshot) {\n                    $scope.userAvatar = snapshot.val().Image;\n                    $scope.userName = snapshot.val().Username;\n                    $scope.userEmail = snapshot.val().Email;\n\n                    var pushing = refService.ref().child(\"Topics\").push({\n                        Title: $scope.topic.title,\n                        Value: $scope.markdownData,\n                        DateCreated: Date.now(),\n                        LastActivity : Date.now(),\n                        Username: $scope.userName,\n                        Email: $scope.userEmail,\n                        Avatar: $scope.userAvatar,\n                        UID: $scope.currentAuthGet.uid,\n                        Tags: $scope.tagsSelectedFireBase,\n                        Postnum: data.length,\n                        IsAcceptedAnwser: false,\n                        Votes: 0,\n                        AcceptedAnwserReplyNum: -1\n                    })\n\n                    refService.ref().child(\"Topics\").child(pushing.key()).update({\n                        pushKey: pushing.key()\n                    })\n                    $mdBottomSheet.cancel();\n                    $scope.topic.sentence = \"\";\n                    $scope.topic.title = \"\";\n                })\n            })\n\n\n        }\n\n\n\n\n    }\n})(angular);","(function(angular) {\n    \n    'use strict';\n    \n    angular\n    \n    .module('ForumApp')\n    .controller('otherUserProfileCtrl', [\"$scope\", \"$firebaseArray\", \"$stateParams\", \"refService\", \"$mdDialog\",\"otherUserProfilePageService\", \"$firebaseObject\", \"$state\", \"otherUserService\", \"timeService\", otherUserProfileCtrl])\n\n    function otherUserProfileCtrl($scope, $firebaseArray, $stateParams, refService, $mdDialog,otherUserProfilePageService, $firebaseObject, $state, otherUserService, timeService) {\n\n        var info = otherUserService.getUserInfo();\n        var obj = $firebaseObject(refService.ref().child(\"UserAuthInfo\").child(info.replyCreatorUID));\n        var topicLenObj = $firebaseArray(refService.ref().child(\"Topics\"));\n        $scope.precence = \"\";\n        $scope.timeSinceNoPageOBJ = \"Not Set\"\n        $scope.timeSinceNoPage = \"Not\";\n        $scope.currentAuthGetOTHER = refService.ref().getAuth();\n        $scope.info = otherUserService.getUserInfo()\n        $scope.otherUserUID = $scope.info.replyCreatorUID\n        $scope.otherUserUsername = '';\n\n\n\n        obj.$loaded(function(data) {\n                $scope.info = otherUserService.getUserInfo()\n                $scope.ACTUALinfo = otherUserService.ACTUALgetUserInfo();\n                $scope.otherUserEmail = $scope.info.replyCreatorEmail\n                $scope.otherUserImage = $scope.info.replyCreatorAvatar\n                $scope.otherUserUID = $scope.info.replyCreatorUID\n                $scope.otherUserUsername = $scope.info.replyCreatorUsername;\n                $scope.numFollowing = data.following;\n                $scope.numFollowers = data.followers;\n                if ($scope.ACTUALinfo.Moderator == false) {\n                    $scope.otherMod = \"Not a Moderator\";\n                }\n                else {\n                    $scope.otherMod = \"Respected Moderator\";\n                }\n                $scope.otherDesc = $scope.ACTUALinfo.Description || \"This user is silent as the butterflies\";\n                $scope.count = 0;\n\n                 topicLenObj.$loaded(function(topicData) {\n                     for (var i = 0; i < topicData.length; i++) {\n                         if (topicData[i].UID == $scope.otherUserUID) {\n                             $scope.count++;\n                         }\n                     }\n                 })\n\n                $scope.timeSINCEOBJ = $firebaseObject(refService.ref());\n                $scope.timeSINCEOBJ.$loaded(function(dataLOAD){\n                    var OBJPRECENCE = dataLOAD.presence;\n                    for(var prop in OBJPRECENCE){\n                        var id = $scope.otherUserUID\n                        $scope.timeSinceNoPageOBJ = OBJPRECENCE[id];\n                    }\n                })\n                \n                var userRef = new Firebase('https://uniquecodersforums.firebaseio.com/presence/' + $scope.otherUserUID);\n                userRef.once(\"value\", function(snapshotPrecence) {\n                    if (snapshotPrecence.val() == \"Online\")\n                        $scope.precence = true\n\n                    else if (snapshotPrecence.val() == \"Idle\")\n                        $scope.precence = \"Idle\"\n\n                    else{\n                        $scope.precence = false\n                        $scope.timeSinceNoPage = timeService.getTimeF(new Date(parseInt(snapshotPrecence.val())));\n                        console.log($scope.timeSinceNoPage)\n                    }\n\n                })\n            },\n            function(error) {\n                console.error(\"Error:\", error);\n            }\n        );\n       \n\n\n\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        \n        $scope.goToPage = function(){\n            console.log($scope.otherUserUsername);\n            otherUserProfilePageService.setID($scope.otherUserUID);\n            $state.go('authHome.otherUserPage', {\n                'USERNAME' : $scope.otherUserUsername\n            })\n        }\n\n\n         $scope.addFolower = function() {\n            $scope.followerCheck = $firebaseArray(refService.ref().child(\"UserAuthInfo\").child($scope.otherUserUID))\n            $scope.followingCheck = $firebaseArray(refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGetOTHER.uid))\n\n\n            $scope.followerCheck.$loaded(function(dataCheckFollower) {\n                console.log(dataCheckFollower)\n                for (var i = 0; i < dataCheckFollower.length; i++) {\n                    if (dataCheckFollower[i].$id == \"followers\") {\n                        refService.ref().child(\"UserAuthInfo\").child($scope.otherUserUID).child('followerLength').update({\n                            followers: (dataCheckFollower[i].$value + 1)\n                        })\n\n                        refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGetOTHER.uid).on(\"value\", function(snap) {\n                            refService.ref().child(\"UserAuthInfo\").child($scope.otherUserUID).child('followerLength').child('followersInfo').push({\n                                UID: $scope.currentAuthGetOTHER.uid,\n                                Username: snap.val().Username,\n                                Avatar: snap.val().Image,\n                                Desc: snap.val().Description || \"The User is Silent as the butterflies...\"\n                            })\n                        })\n\n                    }\n                }\n\n            })\n\n            $scope.followingCheck.$loaded(function(dataCheckFollowing) {\n                console.log(dataCheckFollowing)\n                for (var i = 0; i < dataCheckFollowing.length; i++) {\n                    if (dataCheckFollowing[i].$id == \"following\") {\n                        refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGetOTHER.uid).child('followingLength').update({\n                            following: (dataCheckFollowing[i].$value + 1)\n                        })\n                        refService.ref().child(\"UserAuthInfo\").child($scope.otherUserUID).on(\"value\", function(snapp) {\n                            refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGetOTHER.uid).child('followingLength').child('followingInfo').update({\n                                UID: $scope.currentAuthGetOTHER.uid,\n                                Username: snapp.val().Username,\n                                Avatar: snapp.val().Image,\n                                Desc: snapp.val().Description || \"The User is Silent as the butterflies...\"\n                            })\n                        })\n\n                    }\n                }\n\n            })\n\n        }\n\n\n        $scope.privateMessageStart = function(username, mod, desc, image) {\n            $state.go(\"authHome.privateMes\")\n        }\n        $scope.goToTopic = function(top) {\n            $state.go(\"authHome.topic\", {\n                \"AVATAR\": $scope.otherUserImage,\n                \"DATE\": top.DateCreated,\n                \"EMAIL\": $scope.otherUserEmail,\n                \"TITLE\": top.Title,\n                \"UID\": top.UID,\n                \"USERNAME\": top.Username,\n                \"VALUE\": top.Value\n            })\n        }\n\n    }\n})(angular);","(function(){\n    \n  'use strict';    \n     angular\n     .module('ForumApp')\n     .controller('otherUserProfilePageCtrl', [\"$scope\",\"$stateParams\",\"otherUserProfilePageService\", otherUserProfilePageCtrlFunc])\n    \n    \n    function otherUserProfilePageCtrlFunc($scope,$stateParams,otherUserProfilePageService){\n        $scope.otherUSERIDPAGE = otherUserProfilePageService.getID();\n        console.log($scope.otherUSERIDPAGE);\n        \n    }\n    \n    \n})(angular);","(function(angular){\n 'use strict';    \n     angular\n     .module('ForumApp')\n     .controller('profileCtrl', [\"$scope\",\"$firebaseObject\",\"refService\",\"timeService\",\"$stateParams\", profileCtrl])\n\n    function profileCtrl($scope,$firebaseObject,refService,timeService,$stateParams){\n       $scope.currentAuthGetPro = refService.ref().getAuth();\n       $scope.precence = \"\";\n       var userRef = new Firebase('https://uniquecodersforums.firebaseio.com/presence/' + $scope.currentAuthGetPro.uid);\n       userRef.on(\"value\", function(snapshotPrecence){\n           if(snapshotPrecence.val() == \"Online\")\n                $scope.precence = \"Online\"\n                \n            else if(snapshotPrecence.val() == \"Idle\")  \n                $scope.precence = \"Idle\"\n                \n            else\n                $scope.precence = timeService.getTimeF(new Date(parseInt(snapshotPrecence.val())));\n            \n                \n       })\n       \n      \n       String.prototype.replaceAll = function(str1, str2, ignore) {\n        return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\n       } \n\n\n         var arrayOfPrevious5Days = [];        \n         var date = Date.now();\n         var date = parseInt(date);\n         var newDate = new Date(parseInt(date));\n        \n         newDate = JSON.stringify(newDate);\n         newDate = newDate.replaceAll('\"', '');\n         newDate = newDate.substring(8,10);\n         var dateNum = parseInt(newDate);\n         var dateDiff5 = dateNum-5;\n         for(var i=dateNum; i>dateDiff5; i--)\n              arrayOfPrevious5Days.push(i);\n         var index_zero = arrayOfPrevious5Days[0];\n         var index_one = arrayOfPrevious5Days[1];\n         var index_two = arrayOfPrevious5Days[2];\n         var index_three = arrayOfPrevious5Days[3];\n         var index_four = arrayOfPrevious5Days[4];\n           \n        \n        console.log(arrayOfPrevious5Days)\n         var obj = $firebaseObject(refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGetPro.uid));\n         var objPres = $firebaseObject(refService.ref().child(\"presence\"));\n         \n         \n        obj.$loaded(function(data) {\n                $scope.Username = data.Username;\n                $scope.Email = data.Email;\n                $scope.UID = $scope.currentAuthGetPro.uid;\n                $scope.image = data.Image;\n                $scope.backImage = data.profileBackground\n                $scope.desc = data.Description || \"The User is Silent as the butterflies...\"\n                $scope.Moderator = data.Moderator;\n                $scope.ProfileViews = data.profileViews\n                $scope.Followers = data.followers;\n                $scope.Following = data.following;\n            },\n            function(error) {\n                console.error(\"Error:\", error);\n            }\n        \n        );\n        \n        objPres.$loaded(function(data){\n            $scope.isPresent = data[$scope.currentAuthGetPro.uid];\n            if($scope.isPresent !== 'Online'){\n                $scope.isPresent = timeService.getTimeF(new Date(parseInt($scope.isPresent)));\n            }\n        })\n        \n       \n    }\n})(angular);","(function(angular) {\n\n    'use strict';\n    angular\n        .module('ForumApp')\n        .controller('topicCtrl', [\"$scope\", \"$stateParams\", \"refService\", \"editReplyService\", \"dateService\", \"$firebaseArray\", \"timeService\", \"$mdBottomSheet\", \"$mdMedia\", \"$mdDialog\", \"replyService\", \"$firebaseObject\", \"$state\", \"otherUserService\", \"editTopicService\", \"topicLikesService\", topicCtrl])\n\n\n    function topicCtrl($scope, $stateParams, refService, editReplyService, dateService, $firebaseArray, timeService, $mdBottomSheet, $mdMedia, $mdDialog, replyService, $firebaseObject, $state, otherUserService, editTopicService, topicLikesService) {\n        var currentAuth = refService.ref().getAuth();\n        $scope.currentAuthGet = refService.ref().getAuth();\n\n        function generateUUID(length) {\n            var d = new Date().getTime();\n            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n                var r = (d + Math.random() * length) % 16 | 0;\n                d = Math.floor(d / 16);\n                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n            });\n            return uuid;\n        };\n\n        if ($scope.currentAuthGet) {\n\n        }\n        else {\n            currentAuth = {\n                uid: generateUUID(16)\n            }\n        }\n\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: false,\n            pedantic: false,\n            sanitize: false,\n            smartLists: true,\n            smartypants: false,\n            highlight: function(code, lang) {\n                if (lang) {\n                    return hljs.highlight(lang, code).value;\n                }\n                else {\n                    return hljs.highlightAuto(code).value;\n                }\n            }\n        });\n\n\n\n\n\n\n\n\n        $scope.notAuthReplyTopic = function() {\n                alertify.myAlert(\"Sorry , You must be logged in , to reply or have many feautres available.\");\n            }\n            //SETTING INFO\n        refService.ref().child(\"Topics\").on(\"value\", function(snapshot) {\n            snapshot.forEach(function(EVEN) {\n                var key = EVEN.key();\n                var childData = EVEN.val();\n\n                if (childData.Postnum == $stateParams.POST) {\n                    $scope.creatorAvatar = childData.Avatar\n                    $scope.creatorTitle = childData.Title;\n                    $scope.creatorUID = childData.UID;\n                    $scope.creatorUsername = childData.Username;\n                    $scope.creatorValue = childData.Value;\n                    $scope.creatorDate = childData.DateCreated;\n                    $scope.creatorEmail = childData.Email;\n                    $scope.repliesNum = childData.RepliesNum;\n                    $scope.timeSinceCreated = timeService.getTimeF(new Date(parseInt($scope.creatorDate)));\n                    var dateCheck = new Date(parseInt($scope.creatorDate));\n                    $scope.creatorDateParsed = timeService.getTimeF(dateCheck);\n                }\n            })\n\n\n            $scope.actualReplyUser = $firebaseObject(refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID));\n            $scope.thisUser = $firebaseObject(refService.ref().child(\"UserAuthInfo\").child($scope.currentAuthGet.uid));\n            $scope.isModerator;\n            $scope.currentUserAvatar;\n            $scope.thisUser.$loaded(function(data) {\n                $scope.isModerator = data.Moderator;\n                $scope.currentUserAvatar = data.Image;\n\n            })\n        })\n\n\n        //Setting Views\n        //Adding Them..\n        $scope.views = $firebaseObject(refService.ref().child(\"Topics\"))\n        refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n\n                snapshot.forEach(function(childSnapshot) {\n                    var key = childSnapshot.key();\n                    var childData = childSnapshot.val();\n                    if ($stateParams.POST == childData.Postnum) {\n                        refService.ref().child(\"Topics\").child(childData.pushKey).child(\"Views\").child(currentAuth.uid).set({\n                            Views: true\n                        })\n                    }\n                })\n            })\n            //Viewing them\n        refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n            snapshot.forEach(function(childSnapshot) {\n                var key = childSnapshot.key();\n                var childData = childSnapshot.val();\n                if ($stateParams.POST == childData.Postnum) {\n                    refService.ref().child(\"Topics\").child(childData.pushKey).child(\"Views\").on(\"value\", function(snapshot) {\n                        $scope.countViews = snapshot.numChildren();\n                    })\n                }\n            })\n        })\n\n        /* var viewsCount = $firebaseArray(refService.ref().child(\"Topics\"));\n\n         viewsCount.$loaded(function(data) {\n             $scope.countViews = data.length;\n             console.log(data)\n         })*/\n\n\n\n\n        function voteHelper() {\n            $scope.didVote = true;\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n                snapshot.forEach(function(childSnapshot) {\n                    var key = childSnapshot.key();\n                    var childData = childSnapshot.val();\n                    childSnapshot.forEach(function(viewsCheck) {\n                        /*var keyCheck = viewsCheck.key();\n                        var childDataCheck = viewsCheck.val();\n                        console.log(childData.UpVotes);*/\n                        refService.ref().child(\"Topics\").child(childData.pushKey).child(\"Vote\").on(\"value\", function(snapshotViews) {\n                            snapshotViews.forEach(function(snapShotViewsForEach) {\n                                var keySNAPVIEWS = snapShotViewsForEach.key();\n                                var childDataSNAPVIEWS = snapShotViewsForEach.val();\n\n                                if (childDataSNAPVIEWS == currentAuth.uid) {\n                                    $scope.didVote = true;\n                                }\n                            })\n\n                        })\n\n                    })\n                })\n            })\n            if ($scope.didVote == true) {\n                return \"Voted\"\n            }\n            else {\n                return \"NotVoted\"\n            }\n        }\n        $scope.votedAlready = function() {\n            if (voteHelper() == \"Voted\")\n                return false;\n\n            else\n                return true;\n\n\n        }\n\n        //Setting Voting\n        //Adding them...\n        function upVoteRegister(data) {\n            $scope.TOTAL_POINTS = 0;\n            refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID).child(\"PointsOBJ\").child($scope.currentAuthGet.uid + \"TOPIC:\" + $stateParams.POST).set({\n                Point: +5\n            })\n            refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID).child(\"PointsOBJ\").once(\"value\", function(downVoteCheck) {\n\n                for (var i in downVoteCheck.val())\n                    $scope.TOTAL_POINTS = $scope.TOTAL_POINTS + (downVoteCheck.val()[i].Point)\n\n                refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID).update({\n                    Points: $scope.TOTAL_POINTS\n                })\n\n            })\n\n        }\n        $scope.upVote = function() {\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n                snapshot.forEach(function(childSnapshot) {\n                    var key = childSnapshot.key();\n                    var childData = childSnapshot.val();\n                    if ($stateParams.POST == childData.Postnum) {\n                        refService.ref().child(\"Topics\").child(childData.pushKey).child(\"Vote\").child(currentAuth.uid).set({\n                            Vote: 1\n                        })\n                        upVoteRegister(childData);\n                    }\n                })\n            })\n\n            var upVoteIcon = document.getElementById(\"upVoteIcon\");\n            upVoteIcon.classList.remove(\"thumb-icon\");\n            upVoteIcon.classList.add(\"upvote\");\n\n            var downVoteIcon = document.getElementById(\"downVoteIcon\");\n            downVoteIcon.classList.remove(\"downvote\");\n            downVoteIcon.classList.add(\"thumb-icon\");\n\n        }\n\n        function downVotePointRegister(data) {\n            $scope.TOTAL_POINTS = 0;\n            refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID).child(\"PointsOBJ\").child($scope.currentAuthGet.uid + \"TOPIC:\" + $stateParams.POST).set({\n                Point: -2\n            })\n            refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID).child(\"PointsOBJ\").once(\"value\", function(downVoteCheck) {\n\n                for (var i in downVoteCheck.val())\n                    $scope.TOTAL_POINTS = $scope.TOTAL_POINTS + (downVoteCheck.val()[i].Point)\n\n                refService.ref().child(\"UserAuthInfo\").child($scope.creatorUID).update({\n                    Points: $scope.TOTAL_POINTS\n                })\n\n            })\n\n        }\n\n        $scope.downVote = function() {\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n                snapshot.forEach(function(childSnapshot) {\n                    var key = childSnapshot.key();\n                    var childData = childSnapshot.val();\n                    if ($stateParams.POST == childData.Postnum) {\n                        refService.ref().child(\"Topics\").child(childData.pushKey).child(\"Vote\").child(currentAuth.uid).set({\n                            Vote: -1\n                        })\n                        downVotePointRegister(childData);\n                    }\n                })\n            })\n\n            var downVoteIcon = document.getElementById(\"downVoteIcon\");\n            downVoteIcon.classList.remove(\"thumb-icon\");\n            downVoteIcon.classList.add(\"downvote\");\n\n            var upVoteIcon = document.getElementById(\"upVoteIcon\");\n            upVoteIcon.classList.remove(\"upvote\");\n            upVoteIcon.classList.add(\"thumb-icon\");\n\n        }\n\n\n\n        $scope.countVote = 0;\n        //Viewing Them..\n        $scope.votesViewing = $firebaseObject(refService.ref().child(\"Topics\"))\n        refService.ref().child(\"Topics\").on(\"value\", function(snapshot) {\n            $scope.countVote = 0;\n            snapshot.forEach(function(childSnapshot) {\n                var key = childSnapshot.key();\n                var childData = childSnapshot.val();\n                if ($stateParams.POST == childData.Postnum) {\n                    refService.ref().child(\"Topics\").child(childData.pushKey).child(\"Vote\").on(\"value\", function(snapshotVote) {\n                        snapshotVote.forEach(function(VoteChild) {\n                            VoteChild.forEach(function(evenChildVote) {\n                                var keyCHILD = evenChildVote.key();\n                                var childDataCHILD = evenChildVote.val();\n                                $scope.countVote += (childDataCHILD);\n                            })\n                        })\n                    })\n                }\n            })\n        })\n\n\n\n\n\n\n\n        //SETTING REPLIES\n\n        $scope.replies = $firebaseObject(refService.ref().child(\"Replies\").child($scope.creatorUsername + $stateParams.POST));\n\n\n\n\n        //Setting Tags..\n        $scope.tagsTopic = $firebaseObject(refService.ref().child(\"Topics\"));\n\n        $scope.tagsTopic.$loaded(function(data) {\n            data.forEach(function(snapDataTag) {\n\n                if (snapDataTag.Postnum == $stateParams.POST) {\n\n                    $scope.tagsTopicRep = snapDataTag.Tags;\n\n                }\n            })\n        })\n\n\n        //Getting ClickProfile Set Up...\n        $scope.goToProfile = function(info, ev) {\n            if (ev) {\n                otherUserService.setUserInfo(info);\n                otherUserService.ACTUALsetUserInfo($scope.actualReplyUser);\n                $mdDialog.show({\n                        controller: 'otherUserProfileCtrl',\n                        templateUrl: 'app/components/otherUserProfile/otherUserProfile.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                    },\n                    $mdDialog.alert()\n                    .openFrom({\n                        top: -50,\n                        width: 30,\n                        height: 80\n                    })\n                    .closeTo({\n                        left: 1500\n                    })\n                );\n            }\n            else {\n                return null;\n            }\n        }\n\n        $scope.editReply = function(ev, reps) {\n            if (ev) {\n                editReplyService.setInfo(\n                    reps.pushKey,\n                    $stateParams.USERNAME,\n                    $stateParams.POST,\n                    currentAuth.uid);\n                $mdDialog.show({\n                        controller: 'editReplyCtrl',\n                        templateUrl: 'app/components/editReply/editReply.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                    },\n                    $mdDialog.alert()\n                    .openFrom({\n                        top: -50,\n                        width: 30,\n                        height: 80\n                    })\n                    .closeTo({\n                        left: 1500\n                    })\n                );\n            }\n            else {\n                if (true)\n                    return null;\n            }\n        }\n\n        $scope.editValue = function(ev) {\n\n            if (ev) {\n                editTopicService.setDateCreated($stateParams.DATE);\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n                $mdDialog.show({\n                        controller: 'editTopicCtrl',\n                        templateUrl: 'app/components/editTopic/editTopic.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                        fullscreen: useFullScreen\n                    })\n                    .then(function(answer) {\n                        //Then Argument\n                    }, function() {\n                        //Canceled Dialog\n                    });\n\n            }\n            else {\n                return null;\n            }\n        }\n\n        $scope.deletePost = function(rep) {\n            alertify.confirm('Are you sure you want to delete your reply?', function() {\n                refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).child(rep.pushKey)\n                    .remove(function(error) {\n                        if (error)\n                            alertify.error(\"Deleting Failed : \" + error);\n                        else\n                            alertify.success(\"Sucessfully Deleted!\")\n                    })\n            }, function() {\n                alertify.warn('Canceled')\n            });\n        }\n\n\n\n        $scope.urlSHARINGCURRENT = 'https://ng-fourm-amanuel2.c9users.io/index.html#/authHome/topic/' + $stateParams.POST + '/' + $stateParams.USERNAME\n\n        $scope.openShareMenu = function($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        }\n\n        //////////////////////////////////////////////////////////////////////  CHECK IF YOUR SUPOSE TO SEE  ICONS ////////////////////////////////////////////////////\n\n        $scope.funcCheckEDIT = function(reps) {\n            if (currentAuth.uid == reps.replyCreatorUID)\n                return true;\n            else if ($scope.isModerator == true)\n                return true;\n            else\n                return false;\n        }\n        $scope.goBackTopic = function() {\n            $state.go('authHome.desc')\n        }\n\n        $scope.isReplyable = function(rep) {\n            if (currentAuth.uid == rep.replyCreatorUID)\n                return false;\n\n            else\n                return true;\n        }\n        $scope.isBestAnwser = function(rep) {\n            if ($scope.isModerator == true)\n                return true;\n            else if (currentAuth.uid == rep.replyCreatorUID)\n                return true;\n            else\n                return false;\n        }\n\n\n\n        $scope.isLikeable = function(rep) {\n            if (currentAuth.uid == rep.replyCreatorUID)\n                return false;\n            else if (currentAuth.uid == null)\n                return false;\n            else\n                return true;\n        }\n\n        $scope.isShareble = function(rep) {\n            if (true)\n                return true;\n            else\n                return false;\n        }\n\n        $scope.isFlaggable = function(rep) {\n            if (currentAuth.uid == rep.replyCreatorUID)\n                return false;\n\n            else\n                return true;\n        }\n        $scope.isBookmarkable = function(rep) {\n                if ($scope.currentAuthGet)\n                    return true;\n\n                else\n                    return false;\n            }\n            ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n        //////////////////////////////////////////////////////****** TOGGLING ICONS ***** //////////////////////////////////////////////////////////////\n\n\n\n        ////Check Box\n\n\n\n\n\n        function isCheckedHelper(rep) {\n            var returnerCheck = \"\";\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBestAnwserOutlineTopic) {\n                snapshotBestAnwserOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"BestAnwser\").once(\"value\", function(snapBest) {\n                            if(snapBest.val()) {\n                                if (snapBest.val().isBestAnwser == true && snapBest.val().replyNumber == rep.Replynum)\n                                    returnerCheck = \"True\";\n                                else\n                                    returnerCheck = \"False\";\n                            }\n                            else\n                                returnerCheck = \"False\";\n                        })\n                    }\n                })\n            })\n            return returnerCheck;\n        }\n\n        $scope.isChecked = function(rep) {\n            if (isCheckedHelper(rep) == \"True\")\n                return true;\n            else\n                return false;\n        }\n\n        $scope.classBestAnwser = function(rep) {\n            if (isCheckedHelper(rep) == \"True\")\n                return \"best-answer\";\n            else\n                return \"none\";\n        }\n\n       function bestAnwserRegister(rep) {\n            $scope.TOTAL_POINTS_BEST_ANWSERY_LIKES = 0;\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").child($scope.currentAuthGet.uid + \"TOPIC:\" + $stateParams.POST + \"REPLY:\" + rep.Replynum + \"BESTANSWER\").set({\n                Point: 15\n            })\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").once(\"value\", function(downVoteCheck) {\n\n                for (var i in downVoteCheck.val())\n                    $scope.TOTAL_POINTS_BEST_ANWSERY_LIKES = $scope.TOTAL_POINTS_BEST_ANWSERY_LIKES + (downVoteCheck.val()[i].Point)\n\n                refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).update({\n                    Points: $scope.TOTAL_POINTS_BEST_ANWSERY_LIKES\n                })\n\n            })\n\n        }\n        function unbestAnwserRegister(rep) {\n            $scope.TOTAL_POINTS_BEST_ANSWERN_LIKES = 0;\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").child($scope.currentAuthGet.uid + \"TOPIC:\" + $stateParams.POST + \"REPLY:\" + rep.Replynum + \"BESTANSWER\").set({\n                Point: 0\n            })\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").once(\"value\", function(downVoteCheck) {\n\n                for (var i in downVoteCheck.val())\n                    $scope.TOTAL_POINTS_BEST_ANSWERN_LIKES = $scope.TOTAL_POINTS_BEST_ANSWERN_LIKES + (downVoteCheck.val()[i].Point)\n\n                refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).update({\n                    Points: $scope.TOTAL_POINTS_BEST_ANSWERN_LIKES\n                })\n\n            })\n\n        }\n        \n        \n        $scope.notChecked = function(rep) {\n            $scope.isChecked = true;\n\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBestAnwserOutlineTopic) {\n                snapshotBestAnwserOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"BestAnwser\").update({\n                            isBestAnwser: true,\n                            replyNumber: rep.Replynum\n                        })\n                        bestAnwserRegister(rep);\n                    }\n                })\n            })\n\n        }\n\n        $scope.checked = function(rep) {\n            $scope.isChecked = false;\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBestAnwserOutlineTopic) {\n                snapshotBestAnwserOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"BestAnwser\").update({\n                            isBestAnwser: false,\n                            replyNumber: null\n                        })\n                        unbestAnwserRegister(rep);\n                    }\n                })\n            })\n        }\n\n        // $scope.checkBoxNot = false;\n        // $scope.checkBoxYes = false;\n        // $scope.checkBoxTrueCheck = $firebaseArray(refService.ref().child(\"Topics\"));\n\n        // function actualHelperYes(reps) {\n        //     $scope.inside;\n        //     $scope.checkBoxTrueCheck.$loaded(function(CHECKINGTRUE) {\n        //         for (var i = 0; i < CHECKINGTRUE.length; i++) {\n        //             if (CHECKINGTRUE[i].Postnum == $stateParams.POST) {\n        //                 if (CHECKINGTRUE[i].IsAcceptedAnwser == true && CHECKINGTRUE[i].AcceptedAnwserReplyNum == reps.Replynum) {\n        //                     console.log(CHECKINGTRUE[i].AcceptedAnwserReplyNum, reps.Replynum);\n        //                     $scope.inside = true;\n        //                 }\n        //                 else {\n        //                     $scope.inside = true;\n        //                 }\n        //             }\n        //         }\n        //     })\n        //     return $scope.inside;\n        // }\n        // $scope.checkFuncYes = function(reps) {\n        //     if (actualHelperYes(reps) == true) {\n        //         return true;\n        //     }\n        //     else {\n        //         console.log(actualHelperYes(reps));\n        //         return false;\n        //     }\n        // }\n        // $scope.checkBoxTrueCheck.$loaded(function(CHECKINGTRUE) {\n        //     for (var i = 0; i < CHECKINGTRUE.length; i++) {\n        //         if (CHECKINGTRUE[i].Postnum == $stateParams.POST) {\n        //             if (CHECKINGTRUE[i].IsAcceptedAnwser == true) {\n        //                 $scope.checkBoxYes = true;\n        //             }\n        //             else {\n        //                 $scope.checkBoxNot = true;\n        //             }\n        //         }\n        //     }\n        // })\n\n        // $scope.checkBoxNotNgClick = function(rep) {\n        //     $scope.checkBoxYes = true;\n        //     $scope.checkBoxNot = false;\n        //     $scope.dataNot = $firebaseArray(refService.ref().child(\"Topics\"));\n        //     $scope.dataNot.$loaded(function(dataNoNgClick) {\n        //         for (var i = 0; i < dataNoNgClick.length; i++) {\n        //             if (dataNoNgClick[i].Postnum == $stateParams.POST) {\n        //                 refService.ref().child(\"Topics\").child(dataNoNgClick[i].pushKey).update({\n        //                     IsAcceptedAnwser: true,\n        //                     AcceptedAnwserReplyNum: rep.Replynum\n        //                 })\n        //             }\n        //         }\n        //     })\n        // }\n\n        // function bestAnwserImageIfHelper() {\n        //     $scope.decicor;\n        //     $scope.dataNot = $firebaseArray(refService.ref().child(\"Topics\"));\n        //     $scope.dataNot.$loaded(function(dataNoNgClick) {\n        //         for (var i = 0; i < dataNoNgClick.length; i++) {\n        //             if (dataNoNgClick[i].Postnum == $stateParams.POST) {\n        //                 refService.ref().child(\"Topics\").child(dataNoNgClick[i].pushKey).on(\"value\", function(snapshotChild) {\n        //                     if (snapshotChild.val().IsAcceptedAnwser == true) {\n        //                         $scope.decicor = true\n        //                     }\n        //                     else {\n        //                         $scope.decicor = false\n        //                     }\n        //                 })\n\n        //             }\n        //         }\n\n        //         if ($scope.decicor == true) {\n        //             return \"True\"\n        //         }\n        //         else {\n        //             return \"Not\"\n        //         }\n        //     })\n        // }\n        // $scope.bestAnwserImageIf = function(rep) {\n        //     if (bestAnwserImageIfHelper() == \"True\") {\n        //         return true;\n        //     }\n        //     else {\n        //         return false;\n        //     }\n        // }\n\n\n        // $scope.checkBoxNgClick = function(rep) {\n        //     $scope.checkBoxYes = false;\n        //     $scope.checkBoxNot = true;\n        //     $scope.dataYes = $firebaseArray(refService.ref().child(\"Topics\"));\n        //     $scope.dataYes.$loaded(function(dataYesNgCLick) {\n        //         for (var i = 0; i < dataYesNgCLick.length; i++) {\n        //             if (dataYesNgCLick[i].Postnum == $stateParams.POST) {\n        //                 refService.ref().child(\"Topics\").child(dataYesNgCLick[i].pushKey).update({\n        //                     IsAcceptedAnwser: false,\n        //                     AcceptedAnwserReplyNum: -1\n        //                 })\n        //             }\n        //         }\n        //     })\n        // }\n\n        ////Like\n        $scope.likeBoxNo = true;\n        $scope.likeBoxYes = false;\n\n        function liked(rep) {\n            var returner = \"\";\n            refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).once(\"value\", function(snapshotLikeOutlineTopic) {\n                snapshotLikeOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Replynum == (rep.Replynum)) {\n                        refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).child(bookchildData.pushKey).child(\"Likes\").child($scope.currentAuthGet.uid).once(\"value\", function(snapp) {\n                            if (snapp.val() == null)\n                                returner = \"False\";\n                            else {\n                                if (snapp.val().Like == true)\n                                    returner = \"True\"\n                                else\n                                    returner = \"False\";\n                            }\n                        })\n                    }\n                })\n            })\n            return returner;\n        }\n        $scope.likeBox = function(rep) {\n            if (liked(rep) == \"True\")\n                return true;\n            else if (liked(rep) == \"False\")\n                return false;\n        }\n\n        function likeRegister(rep) {\n            $scope.TOTAL_POINTS_REPLIES_LIKES = 0;\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").child($scope.currentAuthGet.uid + \"TOPIC:\" + $stateParams.POST + \"REPLY:\" + rep.Replynum).set({\n                Point: 5\n            })\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").once(\"value\", function(downVoteCheck) {\n\n                for (var i in downVoteCheck.val())\n                    $scope.TOTAL_POINTS_REPLIES_LIKES = $scope.TOTAL_POINTS_REPLIES_LIKES + (downVoteCheck.val()[i].Point)\n\n                refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).update({\n                    Points: $scope.TOTAL_POINTS_REPLIES_LIKES\n                })\n\n            })\n\n        }\n        function unLikeRegister(rep) {\n            $scope.TOTAL_POINTS_REPLIES_LIKES = 0;\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").child($scope.currentAuthGet.uid + \"TOPIC:\" + $stateParams.POST + \"REPLY:\" + rep.Replynum).set({\n                Point: 0\n            })\n            refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).child(\"PointsOBJ\").once(\"value\", function(downVoteCheck) {\n\n                for (var i in downVoteCheck.val())\n                    $scope.TOTAL_POINTS_REPLIES_LIKES = $scope.TOTAL_POINTS_REPLIES_LIKES + (downVoteCheck.val()[i].Point)\n\n                refService.ref().child(\"UserAuthInfo\").child(rep.replyCreatorUID).update({\n                    Points: $scope.TOTAL_POINTS_REPLIES_LIKES\n                })\n\n            })\n\n        }\n        \n        $scope.likeBoxNoNgClick = function(rep) {\n            //Your About To Like the Post\n            $scope.likeBoxYes = true;\n            $scope.likeBoxNo = false;\n            refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).once(\"value\", function(snapshotLikeOutlineTopic) {\n                snapshotLikeOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Replynum == (rep.Replynum)) {\n                        refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).child(bookchildData.pushKey).child(\"Likes\").child($scope.currentAuthGet.uid).update({\n                            Like: true,\n                            Avatar: $scope.currentUserAvatar\n                        })\n                        likeRegister(rep);\n                    }\n                })\n            })\n        }\n\n\n        $scope.likeBoxYesNgClick = function(rep) {\n            $scope.likeBoxYes = false;\n            $scope.likeBoxNo = true;\n            refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).once(\"value\", function(snapshotLikeOutlineTopic) {\n                snapshotLikeOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Replynum == (rep.Replynum)) {\n                        refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).child(bookchildData.pushKey).child(\"Likes\").child($scope.currentAuthGet.uid).update({\n                            Like: false,\n                            Avarar: $scope.currentUserAvatar\n                        })\n                        unLikeRegister(rep);\n                    }\n                })\n            })\n        }\n\n\n        //Bookmark\n        $scope.bookmarkBoxNo = true;\n        $scope.bookmarkBoxYes = false;\n\n        $scope.bookmarkBoxNoNgClick = function(rep) {\n            $scope.bookmarkBoxYes = true;\n            $scope.bookmarkBoxNo = false;\n        }\n\n\n        $scope.bookmarkBoxYesNgClick = function(rep) {\n            $scope.bookmarkBoxYes = false;\n            $scope.bookmarkBoxNo = true;\n        }\n\n\n        //Like Views\n\n\n        /*\n        $scope.objBookmark = $firebaseObject(refService.ref().child(\"Topics\"))\n                             $scope.objBookmark.$loaded(function(dataBook){\n                                 for(var prop in dataBook){\n                                     console.log(prop);\n                                     if(dataBook[prop] !== null) {\n                                         if(dataBook[prop].Postnum == $stateParams.POST) {\n                                             refService.ref().child(\"Topics\").child(dataBook[prop].pushKey).child(\"Bookmarks\").child($scope.currentAuthGet.uid).on(\"value\", function(snapap){\n                                                   if(snapap.val() !== null) {\n                                                       $scope.bookMarkToggleTopic = !(snapap.val().Bookmark);\n                                                   }\n                                             })\n                                         }\n                                     }\n                                 }\n                             })\n                            \n                              $scope.tagCheckPrev = $firebaseObject(refService.ref().child(\"Constants\").child(\"Tags\"));\n\n         \n                            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBookMarkOutlineTopic) {\n                                    snapshotBookMarkOutlineTopic.forEach(function(evenChildBook) {\n                                        var bookkey = evenChildBook.key();\n                                        var bookchildData = evenChildBook.val();\n                                        if (bookchildData.Postnum == $stateParams.POST) {\n                                            var firebaseCheckBookmark = $firebaseObject(refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"Bookmarks\"))\n                                            firebaseCheckBookmark.$loaded(function(dataC) {\n                                                if(dataC[$scope.currentAuthGet.uid]){\n                                                    refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"Bookmarks\").child($scope.currentAuthGet.uid).on(\"value\", function(snapap){\n                                                       if(snapap.val() !== null) {\n                                                           $scope.bookMarkToggleTopic = snapap.val().Bookmark;\n                                                       }\n                                                    })\n                                                }\n                                                else\n                                                    $scope.bookMarkToggleTopic = true;\n                                            })\n                                            \n                                        }\n                                    })\n                             })\n                    \n        */\n        //TOPIC BUTTONS//////////////////BEGIN//////////////////////////////////////\n\n        function VoteHelper() {\n            var returne = ''\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBookMarkOutlineTopic) {\n                snapshotBookMarkOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"Vote\").child($scope.currentAuthGet.uid).once(\"value\", function(snapSHOT) {\n                            if(snapSHOT.val()) {\n                                if (snapSHOT.val().Vote == 1)\n                                    returne = 'Up';\n                                else if (snapSHOT.val().Vote == -1)\n                                    returne = 'Down'\n                            }\n                        })\n                    }\n                })\n            })\n            return returne;\n        }\n        $scope.upVoteCheck = function() {\n            if (VoteHelper() == 'Up')\n                return 'upvote';\n        }\n\n        $scope.downVoteCheck = function() {\n            if (VoteHelper() == 'Down')\n                return 'downvote';\n        }\n\n        //BookMark\n        //Ng-if\n        //Toggle\n        //$scope.bookMarkToggleTopic = true;\n        $scope.objBookmark = $firebaseObject(refService.ref().child(\"Topics\"))\n        $scope.objBookmark.$loaded(function(dataBook) {\n                for (var prop in dataBook) {\n                    if (dataBook[prop] !== null) {\n                        if (dataBook[prop].Postnum == $stateParams.POST) {\n                            refService.ref().child(\"Topics\").child(dataBook[prop].pushKey).child(\"Bookmarks\").child($scope.currentAuthGet.uid).on(\"value\", function(snapap) {\n                                if (snapap.val() !== null) {\n                                    $scope.bookMarkToggleTopic = !(snapap.val().Bookmark);\n                                }\n                                else\n                                    $scope.bookMarkToggleTopic = true;\n                            })\n                        }\n                    }\n                }\n            })\n            //Ng-Click        \n        $scope.bookmarkClickOutlineTopic = function() {\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBookMarkOutlineTopic) {\n                snapshotBookMarkOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"Bookmarks\").child($scope.currentAuthGet.uid).update({\n                            Bookmark: true\n                        })\n                    }\n                })\n            })\n            $scope.bookMarkToggleTopic = false;\n        }\n        $scope.bookmarkClickNonOutlineTopic = function() {\n            refService.ref().child(\"Topics\").once(\"value\", function(snapshotBookMarkOutlineTopic) {\n                snapshotBookMarkOutlineTopic.forEach(function(evenChildBook) {\n                    var bookkey = evenChildBook.key();\n                    var bookchildData = evenChildBook.val();\n                    if (bookchildData.Postnum == $stateParams.POST) {\n                        refService.ref().child(\"Topics\").child(bookchildData.pushKey).child(\"Bookmarks\").child($scope.currentAuthGet.uid).update({\n                            Bookmark: false\n                        })\n                    }\n                })\n            })\n            $scope.bookMarkToggleTopic = true;\n        }\n\n        //Edit\n        //ng-if\n        $scope.editTopicPriv = function() {\n            if ($scope.isModerator == true)\n                return true;\n            else if ($scope.creatorUID == $scope.currentAuthGet.uid)\n                return true;\n            else\n                return false;\n        }\n        $scope.flagSee = function() {\n            if ($scope.isModerator == true)\n                return true;\n            else if (currentAuth.uid == $scope.creatorUID)\n                return false;\n            else if (currentAuth.uid == null)\n                return false;\n            else\n                return true;\n        }\n\n        //ng-click\n        $scope.editTopic = function(ev) {\n            if (ev) {\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n                $mdDialog.show({\n                        controller: 'editTopicPanelCtrl',\n                        templateUrl: 'app/components/editTopicPanel/editTopicPanel.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                        fullscreen: useFullScreen\n                    })\n                    .then(function(answer) {\n                        //Then Argument\n                    }, function() {\n                        //Canceled Dialog\n                    });\n\n            }\n            else {\n                return null;\n            }\n        }\n\n        $scope.canDeleteCheck = function(rep) {\n            if ($scope.isModerator == true)\n                return true;\n            else\n                return false;\n        }\n\n        //Delete\n        //Ng-if\n        $scope.deleteTopicPriv = function() {\n            if ($scope.isModerator == true)\n                return true;\n            else\n                return false;\n        }\n\n        //Ng-Click\n        $scope.deleteTopic = function() {\n            vex.dialog.confirm({\n                message: 'Are you sure you want to delete this topic?',\n                callback: function(value) {\n                    if (value == true) {\n                        refService.ref().child(\"Topics\").once(\"value\", function(snapshotTopic) {\n                            snapshotTopic.forEach(function(evenChildBook) {\n                                var bookkey = evenChildBook.key();\n                                var bookchildData = evenChildBook.val();\n                                if (bookchildData.Postnum == $stateParams.POST) {\n                                    refService.ref().child(\"Topics\").child(bookchildData.pushKey)\n                                        .remove(function(error) {\n                                            if (error)\n                                                alertify.error(\"Deleting Topic Failed\");\n                                            else {\n                                                refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST)\n                                                    .remove(function(error) {\n                                                        if (error)\n                                                            alertify.error(\"Deleting Topic Failed\");\n                                                        else {\n                                                            alertify.success(\"Deleted, Successfully\")\n                                                        }\n                                                    })\n                                            }\n                                        })\n                                }\n                            })\n                        })\n                    }\n                }\n            });\n        }\n\n\n\n        //TOPIC BUTTONS///////////////////END///////////////////////////////////////\n        $scope.replyTopic = function(ev) {\n            replyService.setTopicInfo($scope.creatorAvatar, $scope.creatorTitle, $scope.creatorUID, $scope.creatorUsername,\n                $scope.creatorValue, $stateParams.DATE, $scope.creatorEmail, $scope.timeSinceCreated,\n                $scope.creatorAvatar, $stateParams.POST);\n            if (ev) {\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n                $mdBottomSheet.show({\n                        controller: 'newReplyCtrl',\n                        templateUrl: 'app/components/newReply/newReply.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                        fullscreen: useFullScreen\n                    })\n                    .then(function(answer) {\n                        //Then Argument\n                    }, function() {\n                        //Canceled Dialog\n                    });\n            }\n            else {\n                return null;\n            }\n        }\n        $scope.repliesLikesNum = [];\n        var count_likes = 0;\n        refService.ref().child(\"Replies\").child($stateParams.USERNAME + $stateParams.POST).on(\"value\", function(snapRepNum) {\n            snapRepNum.forEach(function(snapRepNumChild) {\n                var key = snapRepNumChild.key();\n                var childData = snapRepNumChild.val();\n                if (childData.Likes) {\n\n                    for (var i in childData.Likes)\n                        count_likes++;\n\n                    $scope.repliesLikesNum.push(count_likes)\n                    count_likes = 0;\n\n\n                }\n                //    $scope.repliesLikesNum.push(childData.Likes)\n                else\n                    $scope.repliesLikesNum.push(0)\n            })\n        })\n\n        $scope.seeTopicLikes = function(num_likes, rep, ev) {\n            if (ev) {\n                topicLikesService.setInfo(num_likes, rep);\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n                $mdDialog.show({\n                        controller: 'viewTopicLikes',\n                        templateUrl: 'app/components/viewTopicLikes/viewTopicLikes.html',\n                        parent: angular.element(document.body),\n                        resolve: {\n                            // controller will not be loaded until $waitForAuth resolves\n                            // Auth refers to our $firebaseAuth wrapper in the example above\n                            \"currentAuth\": [\"refService\", function(refService) {\n                                // $waitForAuth returns a promise so the resolve waits for it to complete\n                                return refService.refAuth().$requireAuth();\n                            }]\n                        },\n                        targetEvent: ev,\n                        clickOutsideToClose: true,\n                        fullscreen: useFullScreen\n                    })\n                    .then(function(answer) {\n                        //Then Argument\n                    }, function() {\n                        //Canceled Dialog\n                    });\n            }\n            else {\n                return null;\n            }\n        }\n    }\n})(angular);","(function(angular) {\n\n 'use strict';    \n    angular\n        .module('ForumApp')\n        .controller(\"settingsCtrl\", [\"$scope\", \"refService\", \"$stateParams\", \"$mdDialog\", \"$mdMedia\", \"$firebaseObject\", settingsCtrl])\n\n    function settingsCtrl($scope, refService, $stateParams, $mdDialog, $mdMedia, $firebaseObject) {\n\n        //Setting Infos....\n        $scope.currentAuthSet = refService.ref().getAuth();\n    \n        $scope.userInfo = $firebaseObject(refService.ref().child(\"UserAuthInfo\").child($stateParams.UID))\n        $scope.passwordSHARP = \"********\"\n        $scope.uid = $scope.currentAuthSet.uid;\n        $scope.desc = \"See your descripton in the profile.\"\n        \n        function isPassChange(){\n           if($scope.currentAuthSet.provider == 'twitter' || $scope.currentAuthSet.provider == 'google'\n                || $scope.currentAuthSet.provider == 'github')\n            {\n                return true;\n            } \n            else{\n                return false;\n            }\n        }\n        \n        \n    \n        $scope.changeEmail = function(ev) {\n            if(isPassChange() == true)\n            {\n               $mdDialog.show(\n                  $mdDialog.alert()\n                    .parent(angular.element(document.getElementsByTagName(\"body\")))\n                    .clickOutsideToClose(true)\n                    .title('Email')\n                    .textContent('Cant change email since your logged in from a provider')\n                    .ariaLabel('Alert Dialog Demo')\n                    .ok('Got it!')\n                    .targetEvent(ev)\n                ); \n            }\n            else{\n            var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n            $mdDialog.show({\n                    controller: 'emailSettingsCtrl',\n                    templateUrl: 'app/components/settings/mini-view/emailChange.html',\n                    parent: angular.element(document.body),\n                    resolve: {\n                        // controller will not be loaded until $waitForAuth resolves\n                        // Auth refers to our $firebaseAuth wrapper in the example above\n                        \"currentAuth\": [\"refService\", function(refService) {\n                            // $waitForAuth returns a promise so the resolve waits for it to complete\n                            return refService.refAuth().$requireAuth();\n                        }]\n                    },\n                    targetEvent: ev,\n                    clickOutsideToClose: true,\n                    fullscreen: useFullScreen\n                })\n                .then(function(answer) {\n\n                }, function() {\n\n                });\n            $scope.$watch(function() {\n                return $mdMedia('xs') || $mdMedia('sm');\n            }, function(wantsFullScreen) {\n                $scope.customFullscreen = (wantsFullScreen === true);\n            });\n            }\n        }\n\n        $scope.descriptonChange = function(ev) {\n            var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n            $mdDialog.show({\n                    controller: 'descChangeCtrl',\n                    templateUrl: 'app/components/settings/mini-view/descriptonChange.html',\n                    parent: angular.element(document.body),\n                    resolve: {\n                        // controller will not be loaded until $waitForAuth resolves\n                        // Auth refers to our $firebaseAuth wrapper in the example above\n                        \"currentAuth\": [\"refService\", function(refService) {\n                            // $waitForAuth returns a promise so the resolve waits for it to complete\n                            return refService.refAuth().$requireAuth();\n                        }]\n                    },\n                    targetEvent: ev,\n                    clickOutsideToClose: true,\n                    fullscreen: useFullScreen\n                })\n                .then(function(answer) {\n\n                }, function() {\n\n                });\n            $scope.$watch(function() {\n                return $mdMedia('xs') || $mdMedia('sm');\n            }, function(wantsFullScreen) {\n                $scope.customFullscreen = (wantsFullScreen === true);\n            });\n        }\n\n        $scope.changePassword = function(ev) {\n            \n            if(isPassChange() == true)\n            {\n               $mdDialog.show(\n                  $mdDialog.alert()\n                    .parent(angular.element(document.getElementsByTagName(\"body\")))\n                    .clickOutsideToClose(true)\n                    .title('Password')\n                    .textContent('Cant change password since your logged in from a provider')\n                    .ariaLabel('Alert Dialog Demo')\n                    .ok('Got it!')\n                    .targetEvent(ev)\n                ); \n            }\n            else{\n                var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n            $mdDialog.show({\n                    controller: 'passwordChangeCtrl',\n                    templateUrl: 'app/components/settings/mini-view/passwordChange.html',\n                    parent: angular.element(document.body),\n                    resolve: {\n                        // controller will not be loaded until $waitForAuth resolves\n                        // Auth refers to our $firebaseAuth wrapper in the example above\n                        \"currentAuth\": [\"refService\", function(refService) {\n                            // $waitForAuth returns a promise so the resolve waits for it to complete\n                            return refService.refAuth().$requireAuth();\n                        }]\n                    },\n                    targetEvent: ev,\n                    clickOutsideToClose: true,\n                    fullscreen: useFullScreen\n                })\n                .then(function(answer) {\n\n                }, function() {\n\n                });\n            $scope.$watch(function() {\n                return $mdMedia('xs') || $mdMedia('sm');\n            }, function(wantsFullScreen) {\n                $scope.customFullscreen = (wantsFullScreen === true);\n            });\n            }\n            \n        }\n        $scope.changeUsername = function(ev) {\n            var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n            $mdDialog.show({\n                    controller: 'usernameChangeCtrl',\n                    templateUrl: 'app/components/settings/mini-view/usernameChange.html',\n                    parent: angular.element(document.body),\n                    resolve: {\n                        // controller will not be loaded until $waitForAuth resolves\n                        // Auth refers to our $firebaseAuth wrapper in the example above\n                        \"currentAuth\": [\"refService\", function(refService) {\n                            // $waitForAuth returns a promise so the resolve waits for it to complete\n                            return refService.refAuth().$requireAuth();\n                        }]\n                    },\n                    targetEvent: ev,\n                    clickOutsideToClose: true,\n                    fullscreen: useFullScreen\n                })\n                .then(function(answer) {\n\n                }, function() {\n\n                });\n            $scope.$watch(function() {\n                return $mdMedia('xs') || $mdMedia('sm');\n            }, function(wantsFullScreen) {\n                $scope.customFullscreen = (wantsFullScreen === true);\n            });\n        }\n        \n        $scope.changeImage = function(ev){\n          var useFullScreen = ($mdMedia('sm') || $mdMedia('xs')) && $scope.customFullscreen;\n            $mdDialog.show({\n                    controller: 'imageChangeCtrl',\n                    templateUrl: 'app/components/settings/mini-view/imageChange.html',\n                    parent: angular.element(document.body),\n                    resolve: {\n                        // controller will not be loaded until $waitForAuth resolves\n                        // Auth refers to our $firebaseAuth wrapper in the example above\n                        \"currentAuth\": [\"refService\", function(refService) {\n                            // $waitForAuth returns a promise so the resolve waits for it to complete\n                            return refService.refAuth().$requireAuth();\n                        }]\n                    },\n                    targetEvent: ev,\n                    clickOutsideToClose: true,\n                    fullscreen: useFullScreen\n                })\n                .then(function(answer) {\n\n                }, function() {\n\n                });\n            $scope.$watch(function() {\n                return $mdMedia('xs') || $mdMedia('sm');\n            }, function(wantsFullScreen) {\n                $scope.customFullscreen = (wantsFullScreen === true);\n            });  \n        }\n    }\n\n})(angular);","(function(angular) {\n\n'use strict';\n angular\n     .module('ForumApp')\n     .controller('authHome', [\"$scope\", \"$firebaseObject\", \"$state\", \"$mdDialog\", \"$mdMedia\", \"$firebaseArray\", \"refService\", \"$mdBottomSheet\", authHomeCtrl])\n\n    function authHomeCtrl($scope, $firebaseObject, $state, $mdDialog, $mdMedia, $firebaseArray, refService, $mdBottomSheet) {\n        $state.go('authHome.desc')\n\n        $scope.currentAuthGetHome = refService.ref().getAuth();\n\n        if ($scope.currentAuthGetHome != null) {\n            var amOnline = new Firebase('https://uniquecoders.firebaseio.com/.info/connected');\n            var userRef = new Firebase('https://uniquecoders.firebaseio.com/presence/' + $scope.currentAuthGetHome.uid);\n            amOnline.on('value', function(snapshot) {\n                if (snapshot.val()) {\n                    userRef.onDisconnect().set(Firebase.ServerValue.TIMESTAMP);\n                    userRef.set(\"Online\");\n                }\n            });\n\n            document.onIdle = function() {\n                userRef.set('idle');\n            }\n            document.onAway = function() {\n                userRef.set('away');\n            }\n            document.onBack = function(isIdle, isAway) {\n                userRef.set('online');\n            }\n        }\n\n\n\n\n        //ADD TAGS\n        if (!alertify.myAlert) {\n            alertify.dialog('myAlert', function() {\n                return {\n                    main: function(message) {\n                        this.message = message;\n                    },\n                    setup: function() {\n                        return {\n                            buttons: [{\n                                text: \"Ok!\",\n                                key: 27 /*Esc*/\n                            }],\n                            focus: {\n                                element: 0\n                            }\n                        };\n                    },\n                    prepare: function() {\n                        this.setContent(this.message);\n                    }\n                }\n            });\n        }\n\n\n\n        //          var tour = new Tour({\n        //               steps: [\n        //               {\n        //                 element: \".toolbar_new_topic\",\n        //                 title: \"Avatar\",\n        //                 content: \"Click on it to change settings, see profile, or logout.\"\n        //               },\n        //               {\n        //                 element: \".toolbar_new_topic\",\n        //                 title: \"Creating a new topic\",\n        //                 content: \"To Create a new topic, click on the new topic button\"\n        //               },\n        //               {\n        //                 element: \".listdemoListControls\",\n        //                 title: \"Topics\",\n        //                 content: \"These are the topics in this forum\"\n        //               },\n        //               {\n        //                 element: \".noright\",\n        //                 title: \"Topic\",\n        //                 content: \"Click on topic, to see its value!\"\n        //               }\n        //             ]});\n\n        //             // Initialize the tour\n        //             tour.init();\n        // // Start the tour\n        // tour.start();\n\n\n        $scope.authData = refService.ref().getAuth();\n\n        if ($scope.authData) {\n            var currentAuth = refService.ref().getAuth();\n            refService.ref().onAuth(function(authData) {})\n\n            var obj = $firebaseObject(refService.ref().child(\"UserAuthInfo\").child(currentAuth.uid));\n            obj.$loaded(function(data) {\n                    $scope.Username = data.Username;\n                    $scope.Email = data.Email;\n                    $scope.UID = currentAuth.uid;\n                    $scope.image = data.Image;\n\n                    if (data.newUser == true) {\n                        //NewUser Vec\n\n                    }\n                },\n                function(error) {\n                    console.error(\"Error:\", error);\n                }\n            );\n\n        }\n        else {\n            $scope.Username = \"Tester\";\n            $scope.Email = \"Tester@Tester.com\";\n            $scope.UID = \"3424j23k4j32n4un43ui\";\n            $scope.image = 'http://cs624223.vk.me/v624223037/2b1bb/GRTKddkmXiw.jpg'\n        //alertify.myAlert(\"Please Signup to get more feautres. Sign Up Button located at top right.\");\n            $mdDialog.show(\n              $mdDialog.alert()\n                .parent(angular.element(document.querySelector('#popupContainer')))\n                .clickOutsideToClose(true)\n                .title('Sign up!')\n                .textContent('YPlease Signup to get more feautres. Sign Up Button located at top right')\n                .ok('Got it!')\n                .targetEvent(document.body)\n            );\n        }\n\n        $scope.goToProfile = function() {\n            $state.go(\"authHome.profile\", {\n                \"UID\": $scope.currentAuthGetHome.uid\n            })\n        }\n        $scope.openMenu = function($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        }\n\n        $scope.logout = function() {\n            refService.ref().unauth();\n            location.reload(true);\n            location.reload(true);\n        }\n\n        $scope.goToSettings = function() {\n            $state.go(\"authHome.settings\", {\n                \"UID\": $scope.UID,\n                \"USERNAME\": $scope.Username\n            })\n        }\n\n\n\n    }\n\n})(angular);","(function(){\n    'use strict';\n    \n    angular\n           .module('ForumApp')\n           .controller('emojieToolCtrl', [\"$scope\",\"emojieTool\",\"$mdDialog\",\"$rootScope\", emojieToolCtrlfunc])\n           \n           function emojieToolCtrlfunc($scope,emojieTool,$mdDialog,$rootScope) {\n                $scope.emojieListCtrl = [\n                    {name : ':smile:', img: '<img src=\"assets/emoji/emoji-E056.png\"/>'},\n                    {name : ':sad:' , img: '<img src=\"assets/emoji/emoji-E058.png\"/> '},\n                    {name : ':smiley:', img: '<img src=\"assets/emoji/emoji-E415.png\"/> '},\n                    {name : ':very_happy:', img: '<img src=\"assets/emoji/emoji-E057.png\"/>'},\n                    {name : ':tounge_stuck_out:', img: '<img src=\"assets/emoji/emoji-E105.png\"/> '},\n                    {name : ':cant_talk:', img:'<img src=\"assets/emoji/emoji-E40C.png\"/>'},\n                    {name : ':laugh_dang:' ,img: '<img src=\"assets/emoji/emoji-E770.png\"/>'},\n                    {name : ':minus_one:',img: '<img src=\"assets/emoji/emoji-E421.png\"/>'},\n                    {name : ':plus_one:',img: '<img src=\"assets/emoji/emoji-E00E.png\"/>'},\n                  ]\n                   $scope.hide = function() {\n                        $mdDialog.hide();\n                        $rootScope.markdownData= '# HELLO CHANGED'\n                    };\n                    $scope.cancel = function() {\n                        $mdDialog.cancel();\n                        $rootScope.markdownData= '# HELLO CHANGED'\n                    };\n                    $scope.answer = function(answer) {\n                        $mdDialog.hide(answer);\n                    };\n                    \n              var emojieTool = emojieTool.getElementInfo();\n             \n           }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp');\n    \n    app.controller('descChangeCtrl',[\"$scope\",\"$mdDialog\",\"$mdMedia\",\"currentAuth\",\"refService\", descChangeCtrl])\n    \n    function descChangeCtrl($scope,$mdDialog,$mdMedia,currentAuth,refService){\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        \n        $scope.change = function(desc){\n            if(desc.length > 5){\n                refService.ref().child(\"UserAuthInfo\").child(currentAuth.uid).update({\n                    Description : desc\n                }, function(error) {\n                  if (error) {\n                    alertify.error('Synchronization failed');\n                  } else {\n                    alertify.success('Synchronization succeeded');\n                    $mdDialog.cancel();\n                  }\n                  })\n                \n            }else{\n                alertify.error(\"LEGNTH HAS TO BE ATLEAST 5 CHARACTERS!\")\n            }\n        }\n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp');\n    \n    app.controller('emailSettingsCtrl', [\"$scope\",\"refService\",\"currentAuth\",\"$mdDialog\", emailSettingsCtrl])\n    \n    function emailSettingsCtrl($scope,refService,currentAuth,$mdDialog){\n\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n\n        $scope.changeEmailDialog = function(){\n           \n            var email = $scope.emailChange || $scope.emailChange.toString;\n            var oldEmail = $scope.emailChangeOld;\n            refService.ref().changeEmail({\n                oldEmail: oldEmail,\n                newEmail: email,\n                password: $scope.passwordChangeOld\n            }, function(error) {\n                if (error) {\n                    switch (error.code) {\n                        case \"INVALID_PASSWORD\":\n                            alertify.error(\"The specified user account password is incorrect.\");\n                            break;\n                        case \"INVALID_USER\":\n                            alertify.error(\"The specified user account does not exist.\");\n                            break;\n                        default:\n                            alertify.error(\"Error creating user:\" +  error);\n                    }\n                } else {\n                    refService.ref().child(\"UserAuthInfo\").child(currentAuth.uid).update({\n                        Email: email\n                    })\n                    \n                    \n                    alertify.success(\"User email changed successfully!\");\n            //Updating Topics\n                    refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n\n                        snapshot.forEach(function(childSnapshot) {\n                            var key = childSnapshot.key();\n                            var childData = childSnapshot.val();\n                            if (childData.UID == currentAuth.uid) {\n                                refService.ref().child(\"Topics\").child(childData.pushKey).update({\n                                    Email: email\n                                })\n                            }\n                        })\n                    })\n                    \n            //Updating Replise\n                    \n                    refService.ref().child(\"Replies\").once(\"value\", function(snapshot) {\n\n                        snapshot.forEach(function(childSnapshot) {\n                            var key = childSnapshot.key();\n                            var childData = childSnapshot.val();\n                            childSnapshot.forEach(function(EvenChild){\n                                var keyNest = EvenChild.key();\n                                var childDataNest = EvenChild.val();\n                                if(childDataNest.replyCreatorUID == currentAuth.uid){\n                                  refService.ref().child(\"Replies\").child(key).child(childDataNest.pushKey).update\n                                    ({\n                                        replyCreatorEmail : email                   \n                                    })\n                                }\n                            })\n                        })\n                    })\n                    location.reload(true);\n                    location.reload(true);\n                    $mdDialog.cancel();\n                }\n            });\n        }\n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp')\n    \n    app.controller('imageChangeCtrl', [\"$scope\",\"refService\",\"currentAuth\",\"$mdDialog\",\"encodeImageToBase64\",\"$firebaseObject\", imageChangeCtrl])\n    \n    function imageChangeCtrl($scope,refService,currentAuth,$mdDialog,encodeImageToBase64,$firebaseObject){\n          $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        \n        \n        $scope.uploadFile = function(event){\n            var doc = document.getElementById('inputFileToLoad');\n            var file = document.getElementById('inputFileToLoad').files;\n            var base64Image = encodeImageToBase64.encode(doc,file,refService.ref(), currentAuth.uid);\n            \n            setTimeout(function(){\n                location.reload(true);\n                location.reload(true);\n            }, 3000)\n                \n        };\n    }\n})(angular);\n","(function(angular){\n    var app = angular.module('ForumApp')\n    \n    app.controller('passwordChangeCtrl', [\"$scope\",\"refService\",\"currentAuth\",\"$mdDialog\", passwordChangeCtrl])\n    \n    function passwordChangeCtrl($scope,refService,currentAuth,$mdDialog){\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        \n        $scope.changePasswordDialog = function(){\n\n            refService.ref().changePassword({\n              email: $scope.emailNormal,\n              oldPassword: $scope.passwordChangeOld,\n              newPassword: $scope.passwordChangeNew\n            }, function(error) {\n              if (error) {\n                switch (error.code) {\n                  case \"INVALID_PASSWORD\":\n                    alertify.error(\"The specified user account password is incorrect.\");\n                    break;\n                  case \"INVALID_USER\":\n                    alertify.error(\"The specified user account does not exist.\");\n                    break;\n                  default:\n                    alertify.error(\"Error changing password:\", error);\n                }\n              } else {\n                alertify.success(\"User password changed successfully!\");\n                location.reload(true);\n                location.reload(true);\n                $mdDialog.cancel();\n              }\n            });\n        }\n    }\n})(angular);","(function(angular){\n    var app = angular.module('ForumApp')\n    \n    app.controller('usernameChangeCtrl', [\"$scope\",\"refService\",\"currentAuth\",\"$mdDialog\", usernameChangeCtrl])\n    \n    function usernameChangeCtrl($scope,refService,currentAuth,$mdDialog){\n        $scope.hide = function() {\n            $mdDialog.hide();\n        };\n        $scope.cancel = function() {\n            $mdDialog.cancel();\n        };\n        $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n        };\n        \n        $scope.changeUsernameDialog = function(){\n            var username = $scope.usernameNew;\n            refService.ref().child(\"UserAuthInfo\").child(currentAuth.uid).update({\n                Username : username\n            })\n            //Updating Topics\n                    refService.ref().child(\"Topics\").once(\"value\", function(snapshot) {\n\n                        snapshot.forEach(function(childSnapshot) {\n                            var key = childSnapshot.key();\n                            var childData = childSnapshot.val();\n                            if (childData.UID == currentAuth.uid) {\n                                refService.ref().child(\"Topics\").child(childData.pushKey).update({\n                                    Username: username\n                                })\n                            }\n                        })\n                    })\n                    \n            //Updating Replise\n                    \n                    refService.ref().child(\"Replies\").once(\"value\", function(snapshot) {\n\n                        snapshot.forEach(function(childSnapshot) {\n                            var key = childSnapshot.key();\n                            var childData = childSnapshot.val();\n                            childSnapshot.forEach(function(EvenChild){\n                                var keyNest = EvenChild.key();\n                                var childDataNest = EvenChild.val();\n                                if(childDataNest.replyCreatorUID == currentAuth.uid){\n                                  refService.ref().child(\"Replies\").child(key).child(childDataNest.pushKey).update\n                                    ({\n                                        replyCreatorUsername : username                   \n                                    })\n                                }\n                            })\n                        })\n                    })\n            location.reload(true);\n                location.reload(true);        \n            $mdDialog.cancel();\n        }\n    }\n})(angular);","(function(){\n    'use strict';\n    \n    angular\n          .module('ForumApp')\n          .controller('viewTopicLikes', [\"$scope\",\"$mdDialog\",\"topicLikesService\",\"refService\",\"$stateParams\", viewTopicLikesfunc])\n          \n          function viewTopicLikesfunc($scope,$mdDialog,topicLikesService,refService,$stateParams) {\n              $scope.hide = function() {\n            $mdDialog.hide();\n          };\n          $scope.cancel = function() {\n            topicLikesService.resetInfo();\n            $mdDialog.cancel();\n          };\n          $scope.answer = function(answer) {\n            $mdDialog.hide(answer);\n          };\n          $scope.avatars = [];\n              $scope.num_likes = topicLikesService.getInfo1();\n              $scope.rep = topicLikesService.getInfo2();\n              refService.ref().child(\"Replies\").child($stateParams.USERNAME+$stateParams.POST).child($scope.rep.pushKey).on(\"value\", function(snapRepNum){\n                  snapRepNum.forEach(function(snapRepNumChild){\n                        if(typeof snapRepNumChild.val() == 'object') {\n                              for(var i in snapRepNumChild.val())\n                                  $scope.avatars.push(snapRepNumChild.val()[i].Avatar);\n                        }\n                  })\n              })\n          }\n})(angular);\n"],"sourceRoot":"/source/"}