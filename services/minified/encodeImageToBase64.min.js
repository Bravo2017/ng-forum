!function(e){function a(e){this.encode=function(e,a,o,c){if(a.length>0){var n=a[0],l=new FileReader;l.onload=function(e){var a=e.target.result;return o.child("UserAuthInfo").child(c).update({Image:a}),o.child("Topics").once("value",function(e){e.forEach(function(e){var n=(e.key(),e.val());n.UID==c&&o.child("Topics").child(n.pushKey).update({Avatar:a})})}),o.child("Replies").once("value",function(e){e.forEach(function(e){var n=e.key();e.val();e.forEach(function(e){var l=(e.key(),e.val());l.replyCreatorUID==c&&(console.log(n),console.log(l.pushKey),o.child("Replies").child(n).child(l.pushKey).update({replyCreatorAvatar:a}))})})}),a},l.readAsDataURL(n)}}}var o=e.module("ForumApp");o.service("encodeImageToBase64",["replyService",a])}(angular);