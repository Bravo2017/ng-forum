!function(e){function t(e,t,n,o,r,i,u,a){if(n.go("authHome.desc"),e.currentAuthGetHome=u.ref().getAuth(),null!=e.currentAuthGetHome){var s=new Firebase("https://uniquecodersforums.firebaseio.com/.info/connected"),c=new Firebase("https://uniquecodersforums.firebaseio.com/presence/"+e.currentAuthGetHome.uid);s.on("value",function(e){e.val()&&(c.onDisconnect().set(Firebase.ServerValue.TIMESTAMP),c.set("Online"))}),document.onIdle=function(){c.set("idle")},document.onAway=function(){c.set("away")},document.onBack=function(e,t){c.set("online")}}if(alertify.myAlert||alertify.dialog("myAlert",function(){return{main:function(e){this.message=e},setup:function(){return{buttons:[{text:"Ok!",key:27}],focus:{element:0}}},prepare:function(){this.setContent(this.message)}}}),e.authData=u.ref().getAuth(),e.authData){var f=u.ref().getAuth();u.ref().onAuth(function(e){});var m=t(u.ref().child("UserAuthInfo").child(f.uid));m.$loaded(function(t){e.Username=t.Username,e.Email=t.Email,e.UID=f.uid,e.image=t.Image,1==t.newUser},function(e){console.error("Error:",e)})}else e.Username="Tester",e.Email="Tester@Tester.com",e.UID="3424j23k4j32n4un43ui",e.image="http://cs624223.vk.me/v624223037/2b1bb/GRTKddkmXiw.jpg",alertify.myAlert("Please Signup to get more feautres. Sign Up Button located at top right");e.goToProfile=function(){n.go("authHome.profile",{UID:e.UID})},e.openMenu=function(e,t){e(t)},e.logout=function(){u.ref().unauth(),location.reload(!0),location.reload(!0)},e.goToSettings=function(){n.go("authHome.settings",{UID:e.UID,USERNAME:e.Username})}}var n=e.module("ForumApp");n.controller("authHome",["$scope","$firebaseObject","$state","$mdDialog","$mdMedia","$firebaseArray","refService","$mdBottomSheet",t])}(angular);